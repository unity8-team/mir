MIR_COMMON_3 {
 global: mir_*;
  extern "C++" {
# The following symbols come from running a script over the generated docs. Vis:
# ../tools/process_doxygen_xml.py doc/xml/*.xml | grep "^mircommon public" | sed "s/mircommon public: /    /" | sort  
    mir_arrow_cursor_name*;
    mir_busy_cursor_name*;
    mir_caret_cursor_name*;
    mir_closed_hand_cursor_name*;
    mir_default_cursor_name*;
    mir_diagonal_resize_bottom_to_top_cursor_name*;
    mir_diagonal_resize_top_to_bottom_cursor_name*;
    mir_disabled_cursor_name*;
    mir::Fd::Fd*;
    mir::Fd::invalid*;
    mir::Fd::operator*;
    mir::geometry::operator*;
    mir::geometry::Point::operator*;
    mir::geometry::Point::Point*;
    mir::geometry::Rectangle::bottom_left*;
    mir::geometry::Rectangle::bottom_right*;
    mir::geometry::Rectangle::contains*;
    mir::geometry::Rectangle::intersection_with*;
    mir::geometry::Rectangle::overlaps*;
    mir::geometry::Rectangle::Rectangle*;
    mir::geometry::Rectangles::add*;
    mir::geometry::Rectangles::begin*;
    mir::geometry::Rectangles::bounding_rectangle*;
    mir::geometry::Rectangles::clear*;
    mir::geometry::Rectangles::confine*;
    mir::geometry::Rectangles::end*;
    mir::geometry::Rectangles::operator*;
    mir::geometry::Rectangles::Rectangles*;
    mir::geometry::Rectangles::size*;
    mir::geometry::Rectangle::top_right*;
    mir::geometry::Size::operator*;
    mir::geometry::Size::Size*;
    mir_horizontal_resize_cursor_name*;
    mir_hsplit_resize_cursor_name*;
    mir::input::receiver::android::AndroidInputPlatform::?AndroidInputPlatform*;
    mir::input::receiver::android::AndroidInputPlatform::AndroidInputPlatform*;
    mir::input::receiver::android::AndroidInputPlatform::create_input_thread*;
    mir::input::receiver::android::AndroidInputPlatform::operator*;
    mir::input::receiver::android::InputReceiver::fd*;
    mir::input::receiver::android::InputReceiver::?InputReceiver*;
    mir::input::receiver::android::InputReceiver::InputReceiver*;
    mir::input::receiver::android::InputReceiver::next_event*;
    mir::input::receiver::android::InputReceiver::operator*;
    mir::input::receiver::android::InputReceiverThread::?InputReceiverThread*;
    mir::input::receiver::android::InputReceiverThread::InputReceiverThread*;
    mir::input::receiver::android::InputReceiverThread::join*;
    mir::input::receiver::android::InputReceiverThread::operator*;
    mir::input::receiver::android::InputReceiverThread::start*;
    mir::input::receiver::android::InputReceiverThread::stop*;
    mir::input::receiver::android::InputReceiver::wake*;
    mir::input::receiver::InputPlatform::create*;
    mir::input::receiver::InputPlatform::create_input_thread*;
    mir::input::receiver::InputPlatform::InputPlatform*;
    mir::input::receiver::InputPlatform::operator*;
    mir::input::receiver::InputReceiverThread::InputReceiverThread*;
    mir::input::receiver::InputReceiverThread::join*;
    mir::input::receiver::InputReceiverThread::operator*;
    mir::input::receiver::InputReceiverThread::start*;
    mir::input::receiver::InputReceiverThread::stop*;
    mir_omnidirectional_resize_cursor_name*;
    mir_open_hand_cursor_name*;
    mir_pointing_hand_cursor_name*;
    mir::time::Clock::?Clock*;
    mir::time::Clock::Clock*;
    mir::time::Clock::sample*;
    mir_vertical_resize_cursor_name*;
    mir_vsplit_resize_cursor_name*;
    non-virtual?thunk?to?mir::input::receiver::android::AndroidInputPlatform::?AndroidInputPlatform*;
    non-virtual?thunk?to?mir::input::receiver::android::AndroidInputPlatform::create_input_thread*;
    non-virtual?thunk?to?mir::input::receiver::android::InputReceiver::?InputReceiver*;
    non-virtual?thunk?to?mir::input::receiver::android::InputReceiver::next_event*;
    non-virtual?thunk?to?mir::input::receiver::android::InputReceiverThread::?InputReceiverThread*;
    non-virtual?thunk?to?mir::input::receiver::android::InputReceiverThread::join*;
    non-virtual?thunk?to?mir::input::receiver::android::InputReceiverThread::start*;
    non-virtual?thunk?to?mir::input::receiver::android::InputReceiverThread::stop*;
    non-virtual?thunk?to?mir::input::receiver::android::InputReceiver::wake*;
    non-virtual?thunk?to?mir::time::Clock::?Clock*;
    typeinfo?for?MirBufferPackage;
    typeinfo?for?MirDisplayCard;
    typeinfo?for?MirDisplayConfiguration;
    typeinfo?for?MirDisplayInfo;
    typeinfo?for?MirDisplayMode;
    typeinfo?for?MirDisplayOutput;
    typeinfo?for?MirEventDelegate;
    typeinfo?for?mir::Fd;
    typeinfo?for?mir::geometry::Point;
    typeinfo?for?mir::geometry::Rectangle;
    typeinfo?for?mir::geometry::Rectangles;
    typeinfo?for?mir::geometry::Size;
    typeinfo?for?MirGraphicsRegion;
    typeinfo?for?mir::input::receiver::android::AndroidInputPlatform;
    typeinfo?for?mir::input::receiver::android::InputReceiver;
    typeinfo?for?mir::input::receiver::android::InputReceiverThread;
    typeinfo?for?mir::input::receiver::InputPlatform;
    typeinfo?for?mir::input::receiver::InputReceiverThread;
    typeinfo?for?mir::IntOwnedFd;
    typeinfo?for?MirKeyEvent;
    typeinfo?for?MirMesaEGLNativeDisplay;
    typeinfo?for?MirMesaEGLNativeSurface;
    typeinfo?for?MirMotionEvent;
    typeinfo?for?MirMotionPointer;
    typeinfo?for?MirOrientationEvent;
    typeinfo?for?MirPlatformPackage;
    typeinfo?for?MirPromptSessionEvent;
    typeinfo?for?MirRectangle;
    typeinfo?for?MirResizeEvent;
    typeinfo?for?MirScreencastParameters;
    typeinfo?for?MirSurfaceEvent;
    typeinfo?for?MirSurfaceParameters;
    typeinfo?for?mir::time::Clock;
    vtable?for?MirBufferPackage;
    vtable?for?MirDisplayCard;
    vtable?for?MirDisplayConfiguration;
    vtable?for?MirDisplayInfo;
    vtable?for?MirDisplayMode;
    vtable?for?MirDisplayOutput;
    vtable?for?MirEventDelegate;
    vtable?for?mir::Fd;
    vtable?for?mir::geometry::Point;
    vtable?for?mir::geometry::Rectangle;
    vtable?for?mir::geometry::Rectangles;
    vtable?for?mir::geometry::Size;
    vtable?for?MirGraphicsRegion;
    vtable?for?mir::input::receiver::android::AndroidInputPlatform;
    vtable?for?mir::input::receiver::android::InputReceiver;
    vtable?for?mir::input::receiver::android::InputReceiverThread;
    vtable?for?mir::input::receiver::InputPlatform;
    vtable?for?mir::input::receiver::InputReceiverThread;
    vtable?for?mir::IntOwnedFd;
    vtable?for?MirKeyEvent;
    vtable?for?MirMesaEGLNativeDisplay;
    vtable?for?MirMesaEGLNativeSurface;
    vtable?for?MirMotionEvent;
    vtable?for?MirMotionPointer;
    vtable?for?MirOrientationEvent;
    vtable?for?MirPlatformPackage;
    vtable?for?MirPromptSessionEvent;
    vtable?for?MirRectangle;
    vtable?for?MirResizeEvent;
    vtable?for?MirScreencastParameters;
    vtable?for?MirSurfaceEvent;
    vtable?for?MirSurfaceParameters;
    
    # These symbols are supposed to be "private" (they're under src/include)
    # but they are used by libmirplatform, libmirclient or libmirserver
    mir::default_server_socket;
    mir::input::android::Lexicon::translate*;
    mir::logging::input_timestamp*;
    mir::logging::log*;
    mir::logging::set_logger*;
    mir::logging::SharedLibraryProberReport::SharedLibraryProberReport*;
    mir::RecursiveReadLock::?RecursiveReadLock*;
    mir::RecursiveReadLock::RecursiveReadLock*;
    mir::RecursiveReadWriteMutex::read_lock*;
    mir::RecursiveReadWriteMutex::read_unlock*;
    mir::RecursiveReadWriteMutex::write_lock*;
    mir::RecursiveReadWriteMutex::write_unlock*;
    mir::report::lttng::TracepointProvider::?TracepointProvider*;
    mir::report::lttng::TracepointProvider::TracepointProvider*;
    mir::set_thread_name*;
    mir::SharedLibrary::load_symbol*;
    mir::SharedLibrary::?SharedLibrary*;
    mir::SharedLibrary::SharedLibrary*;
    mir::udev::Context::?Context*;
    mir::udev::Context::Context*;
    mir::udev::Enumerator::begin*;
    mir::udev::Enumerator::end*;
    mir::udev::Enumerator::?Enumerator*;
    mir::udev::Enumerator::Enumerator*;
    mir::udev::Enumerator::iterator::operator*;
    mir::udev::Enumerator::match_parent*;
    mir::udev::Enumerator::match_subsystem*;
    mir::udev::Enumerator::match_sysname*;
    mir::udev::Enumerator::scan_devices*;
    mir::udev::Monitor::enable*;
    mir::udev::Monitor::fd*;
    mir::udev::Monitor::filter_by_subsystem*;
    mir::udev::Monitor::?Monitor*;
    mir::udev::Monitor::Monitor*;
    mir::udev::Monitor::process_events*;
    mir::udev::operator*;
    vtable?for?mir::logging::DumbConsoleLogger;
    vtable?for?mir::time::SteadyClock;
    vtable?for?mir::time::Clock;

    mir::send_fds*;

    mir::fd_reception_error::fd_reception_error*;
    mir::receive_data*;
    mir::socket_error::socket_error*;
    mir::socket_error_is_transient*;
    mir::socket_disconnected_error*;
    typeinfo?for?mir::fd_reception_error;
    typeinfo?for?mir::socket_error;
    typeinfo?for?mir::socket_disconnected_error;
  };
 local: *;
};

MIR_COMMON_3.1 {
  global:
    extern "C++" {
      mir_event_get*;
      mir_event_get*;
      mir_input_event_get*;
      mir_key_input_event_get*;
      mir_touch_input_event_get*;
      mir::log*char*;
      mir::logv*;
      mir::libraries_for_path*;
    };
} MIR_COMMON_3;
