xserver-xorg-video-intel (2:2.12.0-1ubuntu5) maverick; urgency=low

  [ Robert Hooker ]
  * Disable DRI on Sandybridge chipsets. Support for them will not be released
    until the Q42010 Intel releases, which will not be pulled into maverick.
    Without this change, all 3D apps on these devices cause hangs.
    (LP: #639667)
  * Add 102_b43_pciid_update.patch. Fixes detection of a new b43
    chipset revision that is being shipped. Without this the drivers
    will not attempt to load even though this chipset is the same as
    the previous b43 ones. Backport of upstream commit 55b5fe8880.
    (LP: #640214)

  [ Christopher James Halse Rogers ]
  * debian/patches/101_copy-fb.patch: Move scratch pixmap creation to the
    drmmode_copy_fb function, and clean up after we've used it.  Fixes the
    SIGSEGV in FreeClientResources when logging out of KDE (LP: #628077)
  * debian/patches/106_backport_vblank_on_server_regenerate_fix.patch:
    Backport fix for SwapBuffers hang after server regenerate.  LP 628077
    was hiding this by crashing the server.  Fixes kwin desktop effects hanging
    on second and subsequent logins.
  * Cherry-pick e30f0338 to free the Screen pixmap on close.  Fixes a memory
    leak on server regeneration, and another crash on KDE log out hidden by
    LP 628077.

 -- Christopher James Halse Rogers <raof@ubuntu.com>  Mon, 27 Sep 2010 14:34:27 +1000

xserver-xorg-video-intel (2:2.12.0-1ubuntu4) maverick; urgency=low

  * debian/patches/101_copy-fb.patch: Explicitly disable copyfb functionality
    on gen6 (Sandybridge) where it is not working.
  * Update Sandybridge device id's. (LP: #632488)

 -- Robert Hooker <robert.hooker@canonical.com>  Fri, 10 Sep 2010 07:39:32 -0400

xserver-xorg-video-intel (2:2.12.0-1ubuntu3) maverick; urgency=low

  [ Christopher James Halse Rogers ]
  * debian/patches/101_copy-fb.patch:
    + Update for Xserver 1.9
  * debian/control:
    + Bump build-depends on xserver-xorg-dev to ensure we pick up the new ABI

  [ Martin Pitt ]
  * debian/rules: Do not install the big upstream changelog.

 -- Christopher James Halse Rogers <raof@ubuntu.com>  Mon, 02 Aug 2010 15:54:36 +1000

xserver-xorg-video-intel (2:2.12.0-1ubuntu2) maverick; urgency=low

  * Re-add 102-disable-page-flipping-v2.patch.  Spate of freeze bugs: recieved.
    (LP: #609073)

 -- Christopher James Halse Rogers <raof@ubuntu.com>  Fri, 23 Jul 2010 11:30:05 +0200

xserver-xorg-video-intel (2:2.12.0-1ubuntu1) maverick; urgency=low

  * Merge from Debian experimental (LP: #601052).  Remaining Ubuntu changes:
    + debian/apport-gpu-error-intel.py, debian/xserver-xorg-video-intel.udev,
      debian/xserver-xorg-video-intel:
      Add apport script to collect debug information on GPU hangs
    + rules: Install udev rule to run the script when the kernel detects hung 
      GPU.
    + 101_copy-fb.patch: Adds feature to driver so Xserver can draw
      root windows with no background.  This enables smooth boot with
      Plymouth.
    + control: Add Recommends on intel-gpu-tools to xserver-xorg-video-intel 
      package for use by GPU hang scripts.
    + xserver-xorg-video-intel.preinst.in, xserver-xorg-video-intel.postinst.in,
      rules:
      Don't install /etc/modprobe.d/i915-kms.conf, and remove it on upgrades.
      At best it's redundant (as the kernel defaults to KMS), at worst it breaks
      the ability to disable KMS.     
    + 103-mbp-backlight-support.patch: Enables xrandr backlight control for
      macbook's using the mbp_backlight module.
  * Drop 102-disable-page-flipping-v2.patch: all the upstream bugs mentioned
    in the patch are closed.  If we get a spate of freeze bugs, start looking
    here.

 -- Christopher James Halse Rogers <raof@ubuntu.com>  Mon, 19 Jul 2010 16:36:28 +0200

xserver-xorg-video-intel (2:2.12.0-1) experimental; urgency=low

  * New upstream release.
    + Fix Xv distortion, closes: #581705.
  * Bump libdrm build-dependency to 2.4.21.

 -- Brice Goglin <bgoglin@debian.org>  Sat, 26 Jun 2010 00:26:59 +0200

xserver-xorg-video-intel (2:2.11.0-1ubuntu2) maverick; urgency=low

  * No change rebuild with the new xserver

 -- Sebastien Bacher <seb128@ubuntu.com>  Wed, 09 Jun 2010 18:56:26 +0200

xserver-xorg-video-intel (2:2.11.0-1ubuntu1) maverick; urgency=low

  [ Christopher James Halse Rogers ]
  * Merge from Debian experimental.  Remaining Ubuntu changes:
    - debian/apport-gpu-error-intel.py, debian/xserver-xorg-video-intel.udev,
      debian/xserver-xorg-video-intel:
      Add apport script to collect debug information on GPU hangs
    - rules: Install udev rule to run the script when the kernel detects hung GPU
    - 101_copy-fb.patch: Adds feature to driver so Xserver can draw
      root windows with no background.  This enables smooth boot with
      Plymouth.
    - control: Add Recommends on intel-gpu-tools to xserver-xorg-video-intel 
      package for use by GPU hang scripts.
    - xserver-xorg-video-intel.preinst.in, xserver-xorg-video-intel.postinst.in,
      rules:
      Don't install /etc/modprobe.d/i915-kms.conf, and remove it on upgrades.
      At best it's redundant (as the kernel defaults to KMS), at worst it breaks
      the ability to disable KMS.

  [ Robert Hooker ]
  * Add 102-disable-page-flipping-v2.patch: Disables page flipping support which
    is causing frequent hangs, but leaves the events.
  * Add 103-mbp-backlight-support.patch: Enables xrandr backlight control for
    macbook's using the mbp_backlight module. (LP: #417770)

 -- Robert Hooker <sarvatt@ubuntu.com>  Sat, 29 May 2010 20:49:31 -0400

xserver-xorg-video-intel (2:2.11.0-1) experimental; urgency=low

  * New upstream release.

 -- Brice Goglin <bgoglin@debian.org>  Tue, 30 Mar 2010 07:04:52 +0200

xserver-xorg-video-intel (2:2.10.903-1) experimental; urgency=low

  * New upstream release candidate.

 -- Brice Goglin <bgoglin@debian.org>  Tue, 23 Mar 2010 07:39:23 +0100

xserver-xorg-video-intel (2:2.10.902-1) experimental; urgency=low

  [ Julien Cristau ]
  * Rename the build directory to not include DEB_BUILD_GNU_TYPE for no
    good reason.  Thanks, Colin Watson!
  * Remove myself from Uploaders

  [ Brice Goglin ]
  * New upstream release candidate, closes: #567829.
    + User mode-setting is not supported anymore.
  * Bump xutils-dev build dependency for new util-macros.
  * Bump libdrm build dependency to 2.4.18-3 for latest i915 drm headers.
  * Build depend on libx11-xcb-dev, libxcb-aux0-dev and libxcb-dri2-0-dev
    for XVMC.
  * Recommends intel-gpu-tools since intel_reg_dumper is not provided
    by xserver-xorg-video-intel-dbg anymore.

 -- Brice Goglin <bgoglin@debian.org>  Tue, 16 Mar 2010 20:53:53 +0100

xserver-xorg-video-intel (2:2.9.1-4) unstable; urgency=medium

  * Update xsfbs, use new ${xviddriver:Depends} subsvar.

 -- Julien Cristau <jcristau@debian.org>  Fri, 14 May 2010 17:44:44 +0200

xserver-xorg-video-intel (2:2.9.1-3ubuntu5) lucid; urgency=low

  * Drop debian/patches/107_disable_dri_on_845_855.patch:
    + This attempt to work around the crashes on i845 and i855 documented in
      LP: #541492 and LP: #541511 simply shuffled the brokeness around.  It 
      hasn't helped enough, and it unconditionally disables 3D which worked for
      some users before.

 -- Christopher James Halse Rogers <raof@ubuntu.com>  Mon, 26 Apr 2010 10:14:02 +1000

xserver-xorg-video-intel (2:2.9.1-3ubuntu4) lucid; urgency=low

  * Drop /etc/modprobe.d/i915-kms.conf; in the best case it's redundant
    because KMS is on by default in the Ubuntu kernel, in the worst case it
    breaks our ability to forcibly disable KMS when there's a problem.

 -- Steve Langasek <steve.langasek@ubuntu.com>  Thu, 15 Apr 2010 03:41:11 -0700

xserver-xorg-video-intel (2:2.9.1-3ubuntu3) lucid; urgency=low

  [Christopher James Halse Rogers]
  * debian/patches/107_disable_dri_on_845_855.patch:
    + Disable DRI on i845 and i855 chips.  Works around the stability problems
      these chips have in Lucid (LP: #541492, LP: #541511).

 -- Bryce Harrington <bryce@ubuntu.com>  Tue, 13 Apr 2010 15:25:23 -0700

xserver-xorg-video-intel (2:2.9.1-3ubuntu2) lucid; urgency=low

  * Add 107_i830_clip_solid_fills_to_surface.patch: Clip x,y bounds of
    solid fills to the min and max coordinates of the pixmap being filled.
    Partial fix to some of the 8xx freeze issues.  Cherrypick from
    upstream git commit 0c47195c by Chris Wilson.

 -- Bryce Harrington <bryce@ubuntu.com>  Tue, 13 Apr 2010 13:58:15 -0700

xserver-xorg-video-intel (2:2.9.1-3ubuntu1) lucid; urgency=low

  * Merge with Debian.
    - Backport KMS video overlay from upstream 2.10 (lp: #395932)
  * Remaining Ubuntu changes:
    - debian/apport-gpu-error-intel.py, debian/xserver-xorg-video-intel.udev:
      Add apport script to collect debug information on GPU hangs
    - rules: Install udev rule to run the script when the kernel detects hung GPU
    - control: Add intel-gpu-tools to Recommends for use by the above
    - 101_copy-fb.patch: Adds feature to driver so Xserver can draw
      root windows with no background.  This enables smooth boot with
      Plymouth.
    - Drop xserver-xorg-video-intel-dbg.install: intel_reg_dumper is now
      provided by the intel-gpu-tools package.
    - apport-gpu-error-intel.py, xserver-xorg-video-intel.install,
      xserver-xorg-video-intel.udev: Add apport hook to catch X freeze bugs
    - 102_avoid_flushing_null.patch: Cherrypick from upstream to I830.
    - 103_check_for_overflow.patch: Cherrypick from upstream to I915.
    - 104_fail_when_prop_values_gone.patch: Cherrypick from upstream to
      drmmode_display.
  * Reduce libdrm-dev requirement to 2.6.18
  * Add 105_free_after_printing.patch: Cherrypick from upstream.
    Avoid printing a just-freed string if the DRM device could not be opened.
  * Add 106_initialize_drmmode_output.patch: Cherrypick from upstream.
    Clear mode_output during output destroy.

 -- Bryce Harrington <bryce@ubuntu.com>  Wed, 31 Mar 2010 14:36:51 -0700

xserver-xorg-video-intel (2:2.9.1-3) unstable; urgency=low

  [ Julien Cristau ]
  * Rename the build directory to not include DEB_BUILD_GNU_TYPE for no
    good reason.  Thanks, Colin Watson!
  * Remove myself from Uploaders
  * Add a NEWS.Debian entry about KMS.
  * Backport KMS video overlay from upstream 2.10 (closes: #565328).
  * Bump libdrm-dev build-dep for the above.

  [ Brice Goglin ]
  * Bump Standards-Version to 3.8.4, no changes.

 -- Brice Goglin <bgoglin@debian.org>  Sun, 21 Mar 2010 10:25:27 +0100

xserver-xorg-video-intel (2:2.9.1-2) unstable; urgency=low

  * Upload to unstable.

 -- Julien Cristau <jcristau@debian.org>  Thu, 07 Jan 2010 20:53:45 +0000

xserver-xorg-video-intel (2:2.9.1-1+exp1) experimental; urgency=low

  [ Julien Cristau ]
  * Enable kernel mode setting by default on linux (closes: #555906).

  [ Brice Goglin ]
  * Build against xserver 1.7.

 -- Brice Goglin <bgoglin@debian.org>  Wed, 02 Dec 2009 15:50:17 +0100

xserver-xorg-video-intel (2:2.9.1-1ubuntu18) lucid; urgency=low

  * Add 102_avoid_flushing_null.patch: Cherrypick from upstream to I830.
    During shutdown from a FatalError during batchbuffer submission, it is
    possible for the batch_ptr to be NULL, so we must be careful not to
    append a flush on this error path.
  * Add 103_check_for_overflow.patch: Cherrypick from upstream to I915.
    Check for overflow before overflowing.  As the immediate victim of the
    overflow would be to overwrite the maximum permissible value, the test
    was optimistic.
  * Add 104_fail_when_prop_values_gone.patch: Cherrypick from upstream to
    drmmode_display.  Return failure when the enum-type output property
    values are not found Failure to do so causes xrandr to report
    incorrect property values.

 -- Bryce Harrington <bryce@ubuntu.com>  Tue, 30 Mar 2010 17:36:27 -0700

xserver-xorg-video-intel (2:2.9.1-1ubuntu17) lucid; urgency=low

  * debian/apport-gpu-error-intel.py:
    + Disable freeze hook.  We've got ample bug reports now which should
      cover the range of bugs people are seeing, and the script is mostly
      capturing dupes now.  We might re-enable it later once these bugs
      are sorted out, if we want more data.
      (LP: #533945)

 -- Bryce Harrington <bryce@ubuntu.com>  Tue, 23 Mar 2010 16:20:18 -0700

xserver-xorg-video-intel (2:2.9.1-1ubuntu16) lucid; urgency=low

  * debian/apport-gpu-error-intel.py:
    + Better fix for checking MachineType and other parameters to 
      be defined before using them in bug report titles.  Thanks Jan!
      (LP: #539533)

 -- Bryce Harrington <bryce@ubuntu.com>  Wed, 17 Mar 2010 11:36:02 -0700

xserver-xorg-video-intel (2:2.9.1-1ubuntu15) lucid; urgency=low

  * debian/apport-gpu-error-intel.py:
    + It seems ESR is unuseful
    + Fix check for MachineType in report to not crash apport

 -- Bryce Harrington <bryce@ubuntu.com>  Mon, 15 Mar 2010 10:13:44 -0700

xserver-xorg-video-intel (2:2.9.1-1ubuntu14) lucid; urgency=low

  * debian/apport-gpu-error-intel.py:
    + Also include EIR if non-zero

 -- Bryce Harrington <bryce@ubuntu.com>  Thu, 11 Mar 2010 16:50:48 -0800

xserver-xorg-video-intel (2:2.9.1-1ubuntu13) lucid; urgency=low

  * debian/apport-gpu-error-intel.py:
    + 8 characters worth of the dump signature is sufficient for dupe
      identification
    + Identify error code from PGTBL_ER or ESR if non-zero
    + Mention machine type in title if available

 -- Bryce Harrington <bryce@ubuntu.com>  Thu, 11 Mar 2010 16:19:43 -0800

xserver-xorg-video-intel (2:2.9.1-1ubuntu12) lucid; urgency=low

  * debian/rules:  Dropping the --enable-kms-only flag from revision
    2:2.9.1-1ubuntu4.  Subsequent discussion indicates that sticking
    with 2.9 and preserving UMS as a fallback option will help users
    still seeing severe issues with KMS but not UMS (e.g. 8xx owners).

 -- Bryce Harrington <bryce@ubuntu.com>  Tue, 09 Mar 2010 13:17:26 -0800

xserver-xorg-video-intel (2:2.9.1-1ubuntu11) lucid; urgency=low

  * debian/apport-gpu-error-intel.py:
    + Drop check_ignored() entirely; pitti says it's unnecessary for
    non-crash bugs.

 -- Bryce Harrington <bryce@ubuntu.com>  Wed, 03 Mar 2010 15:24:22 -0800

xserver-xorg-video-intel (2:2.9.1-1ubuntu10) lucid; urgency=low

  * debian/apport-gpu-error-intel.py:
    + check_ignored() can be called only after ExecutablePath is defined
      (LP: #530650)

 -- Bryce Harrington <bryce@ubuntu.com>  Wed, 03 Mar 2010 14:11:32 -0800

xserver-xorg-video-intel (2:2.9.1-1ubuntu9) lucid; urgency=low

  * debian/apport-gpu-error-intel.py:
    + Add several new chipnames (thanks Geir!)
    + Remove duplicate attach_hardware() call

 -- Bryce Harrington <bryce@ubuntu.com>  Wed, 03 Mar 2010 09:55:35 -0800

xserver-xorg-video-intel (2:2.9.1-1ubuntu8) lucid; urgency=low

  * debian/apport-gpu-error-intel.py:
    + Set the default title for freeze reports to "GPU lockup"
    + Determine the chipset, and prepend it to the title
    + Calculate a signature of the dump so we can more easily identify
      dupe freezes.  Append to the title.
    + Include i915_error_state if it exists

 -- Bryce Harrington <bryce@ubuntu.com>  Mon, 01 Mar 2010 13:28:56 -0800

xserver-xorg-video-intel (2:2.9.1-1ubuntu7) lucid; urgency=low

  * debian/apport-gpu-error-intel.py:
    + Add Xorg.0.log and other useful information to capture
    + s/pr/report/g for consistency with xorg apport script
    + Tag as a freeze bug

 -- Bryce Harrington <bryce@ubuntu.com>  Sat, 27 Feb 2010 11:38:41 -0800

xserver-xorg-video-intel (2:2.9.1-1ubuntu6) lucid; urgency=low

  * debian/xserver-xorg-video-intel.udev: Fix typo
    (LP: #525433)

 -- Bryce Harrington <bryce@ubuntu.com>  Sun, 21 Feb 2010 15:02:03 -0800

xserver-xorg-video-intel (2:2.9.1-1ubuntu5) lucid; urgency=low

  * debian/xserver-xorg-video-intel.udev: Update udev rule to trigger
    apport properly when X freezes.

 -- Bryce Harrington <bryce@ubuntu.com>  Thu, 18 Feb 2010 16:20:46 -0800

xserver-xorg-video-intel (2:2.9.1-1ubuntu4) lucid; urgency=low

  * debian/rules: Build -intel to enable KMS only, no UMS.  UMS
    will be removed in version 2.10 so we don't plan to support
    it in Lucid.

 -- Bryce Harrington <bryce@ubuntu.com>  Fri, 05 Feb 2010 17:17:49 -0800

xserver-xorg-video-intel (2:2.9.1-1ubuntu3) lucid; urgency=low

  * debian/rules: Need to create usr/share/apport before installing into
    it.

 -- Bryce Harrington <bryce@ubuntu.com>  Wed, 27 Jan 2010 17:31:24 -0800

xserver-xorg-video-intel (2:2.9.1-1ubuntu2) lucid; urgency=low

  * Drop xserver-xorg-video-intel-dbg.install: intel_reg_dumper is now
    provided by the intel-gpu-tools package.
  * xserver-xorg-video-intel.install: Install apport-gpu-error-intel.py
    to /usr/share/apport/

 -- Bryce Harrington <bryce@ubuntu.com>  Tue, 12 Jan 2010 02:52:41 -0800

xserver-xorg-video-intel (2:2.9.1-1ubuntu1) lucid; urgency=low

  * Merge from debian testing.  Remaining changes:
    - debian/apport-gpu-error-intel.py, debian/xserver-xorg-video-intel.udev:
      Add apport script to collect debug information on GPU hangs
    - rules: Install udev rule to run the script when the kernel detects hung GPU
    - control: Add intel-gpu-tools to Recommends for use by the above
    - 101_copy-fb.patch: Adds feature to driver so Xserver can draw
      root windows with no background.  This enables smooth boot with
      Plymouth.
  * Build against xserver 1.7.

 -- Timo Aaltonen <tjaalton@ubuntu.com>  Mon, 07 Dec 2009 16:23:16 +0200

xserver-xorg-video-intel (2:2.9.1-1) unstable; urgency=medium

  * New upstream bugfix release (closes: #508005).
    + reverts change from 2.9.0 that broke DVI detection for some people
      (closes: #548045)

 -- Julien Cristau <jcristau@debian.org>  Wed, 25 Nov 2009 16:32:29 +0100

xserver-xorg-video-intel (2:2.9.0-1ubuntu4) lucid; urgency=low

  [Matt Zimmerman]
  * debian/apport-gpu-error-intel.py, debian/xserver-xorg-video-intel.udev:
    Add apport script to collect debug information on GPU hangs
  * rules: Install udev rule to run the script when the kernel detects hung GPU
  * control: Add intel-gpu-tools to Recommends for use by the above

 -- Bryce Harrington <bryce@ubuntu.com>  Thu, 26 Nov 2009 00:53:06 -0800

xserver-xorg-video-intel (2:2.9.0-1ubuntu3) lucid; urgency=low

  * Add 101_copy-fb.patch: Adds feature to driver so Xserver can draw
    root windows with no background.  This enables smooth boot with
    Plymouth.

 -- Bryce Harrington <bryce@ubuntu.com>  Mon, 23 Nov 2009 14:29:44 -0800

xserver-xorg-video-intel (2:2.9.0-1ubuntu2) karmic; urgency=low

  * Add 100_drop_fb_from_crtc.patch.  Fixes lockup with black screen on
    logout of KDE with KMS enabled.  Patch zeroes out the framebuffer id
    to clean up on screen closure.  Cherrypick from upstream.
    (LP: #432521)

 -- Bryce Harrington <bryce@ubuntu.com>  Tue, 13 Oct 2009 11:31:29 -0700

xserver-xorg-video-intel (2:2.9.0-1ubuntu1) karmic; urgency=low

  [Tormod Volden]
  * Merge with Debian. Remaining Ubuntu changes:
    + debian/control: Add lpia architecture
  * Drop patches now included upstream:
    + 100_8xx_perf_pict_a8.patch
    + 101_reload_cursors.patch
    + 102_dont_destroy_bufmgr_at_closescreen_time.patch
  * Ubuntu bugs fixed in this release:
    + Calculate the DVO relative offset in LVDS data entry to get the DVO
      timing.  Fixes black screen at boot on i855 due to not finding LVDS
      modes.
      (LP: #410455)
    + Fix brightness by enabling BACKLIGHT property for KMS.
      (LP: #397617)

 -- Bryce Harrington <bryce@ubuntu.com>  Wed, 07 Oct 2009 20:09:54 -0700

xserver-xorg-video-intel (2:2.9.0-1) unstable; urgency=low

  * New upstream release.

 -- Brice Goglin <bgoglin@debian.org>  Tue, 29 Sep 2009 07:16:54 +0200

xserver-xorg-video-intel (2:2.8.99.902-1) experimental; urgency=low

  * New upstream release candidate.
    + Fix crash on server regen, closes: #543326.

 -- Brice Goglin <bgoglin@debian.org>  Wed, 23 Sep 2009 01:03:49 +0200

xserver-xorg-video-intel (2:2.8.1-2) unstable; urgency=low

  * Re-enable render accel on 8xx.  The major problem turned out to be related
    to agp chipset flushing (see #541307), so hopefully this should work now.
  * Add missing xsfclean dependency to debian/rules clean.
  * Bump Standards-Version to 3.8.3 (no changes).
  * Mention intel_reg_dumper in the debug package's long description.

 -- Julien Cristau <jcristau@debian.org>  Thu, 17 Sep 2009 20:55:47 +0200

xserver-xorg-video-intel (2:2.8.1-1ubuntu2) karmic; urgency=low

  * Add 102_dont_destroy_bufmgr_at_closescreen_time.patch: Don't destroy
    bufmgr at CloseScreen time (LP: #428662).

 -- Alberto Milone <alberto.milone@canonical.com>  Fri, 25 Sep 2009 14:53:26 +0200

xserver-xorg-video-intel (2:2.8.1-1ubuntu1) karmic; urgency=low

  * Merge with Debian.  Remaining Ubuntu changes:
    + control: Add lpia architecture
    + Fixes bad chroma upsampling on videos (LP: #371605)
  * Add 100_8xx_perf_pict_a8.patch: Improve performance on i845 by adding
    limited support for a8 dests.  Cherrypick from upstream master tree.
    (LP: #382017)
  * Add 101_reload_cursors.patch:  Reload cursors as needed when setting
    new modes.  Fixes issue where cursor doesn't rotate when the screen
    is rotated.  Cherrypick from upstream master tree.
    (LP: #410255)

 -- Bryce Harrington <bryce@ubuntu.com>  Wed, 26 Aug 2009 23:52:33 -0700

xserver-xorg-video-intel (2:2.8.1-1) unstable; urgency=low

  * New upstream release.
    + Calculate the DVO relative offset in LVDS data entry to get the
      DVO timing, closes: #538148.
    + Fix sampler indexes on i965 planar video, closes: #513427.

 -- Brice Goglin <bgoglin@debian.org>  Wed, 26 Aug 2009 09:50:15 +0200

xserver-xorg-video-intel (2:2.8.0-2) unstable; urgency=low

  [ Julien Cristau ]
  * Disable UXA render accel on i8xx chips for now.  It currently causes
    hangs, and doesn't seem likely to get fixed quickly upstream
    (closes: #527349).
  * Reenable patch system and bring back quilt build-dep.

 -- Brice Goglin <bgoglin@debian.org>  Fri, 31 Jul 2009 22:44:13 +0200

xserver-xorg-video-intel (2:2.8.0-1) unstable; urgency=low

  * New upstream release.
    + Fixes crash at startup if KMS is not used, closes: #537052.

 -- Brice Goglin <bgoglin@debian.org>  Tue, 21 Jul 2009 16:23:39 +0200

xserver-xorg-video-intel (2:2.8.0-0ubuntu2) karmic; urgency=low

  * No change rebuild against the new dri2proto 2.1 features since xserver
    was upgraded.

 -- Bryce Harrington <bryce@ubuntu.com>  Wed, 05 Aug 2009 07:49:03 -0700

xserver-xorg-video-intel (2:2.8.0-0ubuntu1) karmic; urgency=low

  * New upstream release 2.8.0
  * Disable installation of ChangeLog

 -- Bryce Harrington <bryce@ubuntu.com>  Tue, 21 Jul 2009 01:23:22 -0700

xserver-xorg-video-intel (2:2.7.99.902+git20090720.bb300738-0ubuntu1) karmic; urgency=low

  * Update to git 20090720 (master branch) up to commit bb300738
    - Fix intel driver reports Couldn't find PLL settings on i915
      (LP: #312133)
    - Fix X freezing on intel 855GM
      (LP: #370292)
    - Implement vblank sync'd GL buffer swap
      (LP: #377090)

 -- Bryce Harrington <bryce@ubuntu.com>  Mon, 20 Jul 2009 22:05:31 -0700

xserver-xorg-video-intel (2:2.7.99.902-1) experimental; urgency=low

  * New upstream release candidate.
    + Fix crash in drm_intel_gem_bo_unreference_locked, closes: #535772.

 -- Brice Goglin <bgoglin@debian.org>  Tue, 14 Jul 2009 00:17:00 +0200

xserver-xorg-video-intel (2:2.7.99.901+git20090702.74227141-0ubuntu1) karmic; urgency=low

  [Robert Hooker]
  * Update to git 20090702 (master branch) up to commit 74227141
   - Treat disabled CRTCs as "not covering" for scanline wait purposes.
     Fixes problems returning from a dpms off state.
     (LP: #390917, #383973, #390633, #385448, #388357)
   - Add an xorg.conf option to control swapbuffers behavior.
   - Set hot plug interrupt to detect HDMI output.
   - Add a pipe-a quirk for Dell mini
     (LP: #395306)
   - Add a pipe-a quirk for thinkpad x30
     (LP: #304614)
   - Reenable XvMC support in UXA. Now includes vld support.
   - Fix EDID for LVDS output device to add the default modes in UMS.
     (LP: #385832)
   - Export EDID when using KMS, so Display options shows info correctly
     (LP: #395140)
   - Fixes for SDVO LVDS mode detection.
   - Fix major performance regression of trapezoid rendering in UXA.
   - Fixes for hangs when GL compositing is used with multiple monitors
     with different refresh rates.
   - Support for new IGDNG devices.
   - Only get the VBIOS in non-KMS mode
   - Add a few error messages for DRM initialization
   - Don't try to pin buffers in KMS mode
   - Fix 945GM VT switch in UMS
   - Clear the bo on the rotate scratch pixmap (Fixes problems with rotation)
   - uxa: Fix segfault on source-only picture usage with FallbackDebug.
   - Various XvMC fixes.
  * Merge with Debian experimental.  Remaining Ubuntu changes:
   - Add lpia architecture
  * Drop patches since they're already upstream:
    - 110_quirk_hp_mini.patch  
    - 117_quirk_thinkpad_x30.patch 
    - 118_pixmap_inline_funcs.patch
    - 119_fix_drawable_abuse.patch 
    - 120_fix_dri2_vblank_syncing_segfault.patch
    - 121_dont_change_blank_sync_width.patch      
    - 122_wait_for_vblank_to_sub_border_color.patch     
    - 123_kms_export_edid.patch                       

 -- Bryce Harrington <bryce@ubuntu.com>  Thu, 09 Jul 2009 14:02:45 -0700

xserver-xorg-video-intel (2:2.7.99.901-2) experimental; urgency=low

  * Pull upstream fix for xvmc build.
  * Update build-depends, and reenable xvmc.

 -- Julien Cristau <jcristau@debian.org>  Thu, 11 Jun 2009 18:52:10 +0200

xserver-xorg-video-intel (2:2.7.99.901-1) experimental; urgency=low

  * New upstream release candidate.

 -- Brice Goglin <bgoglin@debian.org>  Thu, 11 Jun 2009 08:18:49 +0200

xserver-xorg-video-intel (2:2.7.99.1+git20090602.ec2fde7c-0ubuntu5) karmic; urgency=low

  * Add 123_kms_export_edid.patch: Allow EDID to be exported in the KMS
    case as a randr property.  This should help the display properties applet 
    list the proper resolutions, and solve some dpi issues.

 -- Bryce Harrington <bryce@ubuntu.com>  Wed, 01 Jul 2009 19:54:22 -0700

xserver-xorg-video-intel (2:2.7.99.1+git20090602.ec2fde7c-0ubuntu4) karmic; urgency=low

  * Add 122_wait_for_vblank_to_sub_border_color.patch: Wait for next
    Vblank to substitue border color for Color info.  Otherwise, this can
    result in incorrect resolution detection due to phantom VGA port
    on i915 and earlier.  Cherrypick from upstream's main branch.
    (LP: #273306)

 -- Bryce Harrington <bryce@ubuntu.com>  Sat, 27 Jun 2009 16:15:14 -0700

xserver-xorg-video-intel (2:2.7.99.1+git20090602.ec2fde7c-0ubuntu3) karmic; urgency=low

  * Add 121_dont_change_blank_sync_width.patch: Don't change the
    blank/sync width when calculating scaled modes.  Fixes fullscreen
    graphical corruption on LVDS.
    (LP: #351761)

 -- Bryce Harrington <bryce@ubuntu.com>  Sat, 27 Jun 2009 15:53:47 -0700

xserver-xorg-video-intel (2:2.7.99.1+git20090602.ec2fde7c-0ubuntu2) karmic; urgency=low

  * Add 118_pixmap_inline_funcs.patch, 119_fix_drawable_abuse.patch,
    120_fix_dri2_vblank_syncing_segfault.patch: Cherrypicks from upstream
    to fix segfault associated with a last minute commit in the prior
    snapshot to enable vsync for DRI2 CopyRegion.
    (LP: #383129)

 -- Bryce Harrington <bryce@ubuntu.com>  Thu, 04 Jun 2009 07:45:05 -0700

xserver-xorg-video-intel (2:2.7.99.1+git20090602.ec2fde7c-0ubuntu1) karmic; urgency=low

  * Update to git 20090602 (master branch) up to commit ec2fde7c
    - xvmc is disabled since DRI1 no longer supported
    - LP: #96991 - 3D stuff breaks with Compiz: Redirected Direct Rendering
      is needed in DRI
    - LP: #120834 - X freezes with I830WaitLpRing error when running OpenGL apps
    - LP: #337608 - X crashes in fbBlt() when using Sun Java Plugin 6 + firefox3.0
    - LP: #339555 - compiz slowmotion after Jaunty upgrade
    - LP: #363900 - X.org freezes with intel driver, no apparent trigger
    - LP: #331719 - VT switching doesn't work on Intel 915GM
    - LP: #339091 - X freezes a few minutes after resuming
    - LP: #348436 - Kubuntu: X server crash when screensaver is started (4500MHD)
    - LP: #279727 - Kubuntu: Display Corruption w/ Intel 4700MHD
    - LP: #357851 - Kubuntu: Distorted display after switching virtual desktops w/ exa
    - LP: #158415 - Front buffer dynamic resize not supported
    - LP: #324998 - x server restarts itself w/ compiz on Intel 945GM
    - LP: #355593 - after upgrade to 9.04, rotating desktop cube ran slow
    - LP: #357290 - 1 fps in 3d apps like neverball with EXA
    - LP: #360774 - Graphical Corruption with EXA on X4500
    - LP: #364126 - screensaver prefs dialog in 9.04 RC livecd leaves dirt
    - LP: #375712 - Native resolution for dell "2005fpw" monitor not listed
    - LP: #375264 - Choppy flash video and poor performance with compiz
    - LP: #349568 - Jaunty / Compiz slow and tearing on GMA 4500MHD
    - LP: #356056 - window tearing during movement on 965 (no compiz)
    - LP: #330460 - xorg shows black image/hangs with jpg in firefox
    - LP: #347587 - X asserts on pI830->batch_ptr != 0 on resume from suspend
  * Merge with Debian experimental.  Remaining Ubuntu changes:
    - Add lpia architecture
    - Re-enable the patch system, add quilt to build-deps.
    - 110_quirk_hp_mini.patch: quirk (sent upstream)
    - 117_quirk_thinkpad_x30.patch: quirk (sent upstream)
  * Drop 116_8xx_disable_dri.patch.  There have been fixes for 3d on 8xx
    chipsets upstream, so drop the DRI disablement so the fixes can be
    re-tested.
  * Drop 103_quirk_intel_mb890.patch.  Better quirk available upstream.
    (LP: #305269)

 -- Bryce Harrington <bryce@ubuntu.com>  Tue, 02 Jun 2009 10:47:32 -0700

xserver-xorg-video-intel (2:2.7.99.1-2) experimental; urgency=low

  [ Julien Cristau ]
  * Pull from upstream git branch 'master', commit 8e942b70.
  * Bump libdrm-dev build-dep to 2.4.11.
  * Merge changes from 2:2.7.1-1.
  * Bump Standards-Version to 3.8.1.

  [ David Nusinow ]
  * Add README.source

 -- Julien Cristau <jcristau@debian.org>  Thu, 28 May 2009 20:10:30 +0200

xserver-xorg-video-intel (2:2.7.99.1-1) experimental; urgency=low

  * New upstream release candidate.
  * Stop installing libI810XvMC.so and libIntelXvMC.so for now. They are
    disabled in configure for now because DRI1 is not supported anymore.
  * Install the upstream NEWS file, closes: #524334, #524336.
  * Move the -dbg package to section debug.

 -- Brice Goglin <bgoglin@debian.org>  Wed, 29 Apr 2009 19:50:26 +0200

xserver-xorg-video-intel (2:2.7.1-1ubuntu1) karmic; urgency=low

  * Merge from debian unstable, remaining changes:
    - Add lpia architecture
    - 103_quirk_intel_mb890.patch: quirk
    - 110_quirk_hp_mini.patch: quirk
    - 116_8xx_disable_dri.patch: DRI proved buggy on certain 8xx chips so
      this disables it.  The DRI probably needs re-testing to verify this
      patch is still needed, but it will be kept for now.
    - 117_quirk_thinkpad_x30.patch: quirk
  * Drop 119_drm_bo_unreference_needs_null.patch: upstream.
  * Re-enable the patch system, add quilt to build-deps.

 -- Timo Aaltonen <tjaalton@ubuntu.com>  Fri, 22 May 2009 11:17:55 +0300

xserver-xorg-video-intel (2:2.7.1-1) unstable; urgency=low

  [ Brice Goglin ]
  * New upstream release.
  * Install the upstream NEWS file, closes: #524334, #524336.
  * Move the -dbg package to section debug.

  [ David Nusinow ]
  * Remove 01_gen_pci_ids.diff. The X server now uses an internal table to
    choose a driver during autoconfiguration.
    + Disable patch system and remove quilt from build-deps.

 -- Brice Goglin <bgoglin@debian.org>  Wed, 13 May 2009 07:14:50 +0200

xserver-xorg-video-intel (2:2.7.0-1ubuntu2) karmic; urgency=low

  * Drop 109_i830-fifo-watermark-conservative.patch:
    + Patch was insufficient to fix #311895, and doesn't help any more
      anyway.

 -- Bryce Harrington <bryce@ubuntu.com>  Sat, 16 May 2009 13:50:15 -0700

xserver-xorg-video-intel (2:2.7.0-1ubuntu1) karmic; urgency=low

  * Merge from Debian of upstream's 2.7.0 release.
    - Fixes: memory leak causes system to run out of memory
      (LP: #360319)
    - Fixes: Video playback suffers from tearing on GMA 4500MHD
      (LP: #339233)
    - Fixes: powertop wakeups 71.6 <interrupt> : i915@pci
      (LP: #352763)
    - Fixes: `man intel` does not mention UXA in the AccelMethod section
      (LP: #364284)
    - Fixes: TV Format changes don't work
      (LP: #298422)
  * Remaining ubuntu changes against Debian version:
    - Add lpia architecture
    - 103_quirk_intel_mb890.patch: quirk
    - 109_i830-fifo-watermark-conservative.patch: Still in progress  
      upstream in fd.o #19304, but retain as a placeholder until better
      fix is found.
    - 110_quirk_hp_mini.patch: quirk
    - 116_8xx_disable_dri.patch: DRI proved buggy on certain 8xx chips so
      this disables it.  The DRI probably needs re-testing to verify this
      patch is still needed, but it will be kept for now.
    - 117_quirk_thinkpad_x30.patch: quirk
    - 119_drm_bo_unreference_needs_null.patch: Fixes several crashes;
      seems not to be included upstream yet.
  * Drop patches no longer needed:
    - Drop 112_num_used_fences.patch; no longer needed with updated kernel
    - Drop 105_no_modesetting.diff; now we want to enable kernel modesetting
    - Drop 115_fix_crash_xv_overlay.patch; included in upstream
    - Drop 118_drop_legacy3d.patch; included in upstream
    - Drop 120_fix_vt_switch.patch; included in upstream
    - Drop 106_remove_triple_buffering.diff; included in upstream
    - Drop 107_remove_pageflipping.diff; included in upstream
  * Refresh 119_drm_bo_unreference_needs_null.patch to apply

 -- Bryce Harrington <bryce@ubuntu.com>  Fri, 08 May 2009 12:08:57 -0700

xserver-xorg-video-intel (2:2.7.0-1) unstable; urgency=low

  * New upstream release.

 -- Brice Goglin <bgoglin@debian.org>  Thu, 16 Apr 2009 07:11:09 +0200

xserver-xorg-video-intel (2:2.6.99.903-1) experimental; urgency=low

  * New upstream release candidate.
  * Bump build-dep on libdrm-dev to 2.4.6.

 -- Brice Goglin <bgoglin@debian.org>  Sat, 11 Apr 2009 22:45:57 +0200

xserver-xorg-video-intel (2:2.6.3-1) unstable; urgency=low

  * New upstream release.
  * Bump build-dep on libdrm-dev to 2.4.5.
  * Upload to unstable.
  * Cherry-pick some patches from upstream git, so this doesn't FTBFS with the
    new libdrm (closes: #523125)

 -- Julien Cristau <jcristau@debian.org>  Thu, 09 Apr 2009 10:25:22 +0100

xserver-xorg-video-intel (2:2.6.3-0ubuntu9) jaunty; urgency=low

  * Add 120_fix_vt_switch.patch: Fix null pointer deref in
    I830StopVideo(), which can lead to segfaults calling
    drm_intel_bo_unpin or drm_intel_bo_unreference when entering DPMS.
    Thanks to unggnu for shepherding this bug to solution!
    (LP: #345796)
  
 -- Bryce Harrington <bryce@ubuntu.com>  Wed, 08 Apr 2009 19:12:39 -0700

xserver-xorg-video-intel (2:2.6.3-0ubuntu8) jaunty; urgency=low

  * Expand patch 116 and rename to 116_8xx_disable_dri.patch to 
    fix freezing issue on i810 as well.
    (LP: #279835)

 -- Bryce Harrington <bryce@ubuntu.com>  Mon, 06 Apr 2009 18:18:46 -0700

xserver-xorg-video-intel (2:2.6.3-0ubuntu7) jaunty; urgency=low

  * Add 119_drm_bo_unreference_needs_null.patch:
    - The first time through the Xv code, an allocated buffer is
      unreferenced but the pointer is not reset to NULL.  Thus, the next time
      a video is played, -intel thinks it has a valid buffer and crashes
      when it tries to access the freed memory.  Fixes a number of crashes
      reported since moving to the 2.6.3 driver.
    - Fixes crash on i945 with frame buffer width > 2048.  DRI is disabled
      on this chipset when the frame buffer exceeds this width.
      (LP: #354688)
    - Fixes crash on i865 where DRI is off because of patch 116
      (LP: #352760)
    - Fixes crash on i845 starting after 304871 was fixed
      (LP: #354889)
    - Fixes crash on i830 when manually disabling DRI
      (LP: #347527)

 -- Bryce Harrington <bryce@ubuntu.com>  Mon, 06 Apr 2009 14:28:29 -0700

xserver-xorg-video-intel (2:2.6.3-0ubuntu6) jaunty; urgency=low

  * Update 116_865g_disable_dri.patch: Permit DRI on 845.
    Evidence so far suggests the freezes on 845 due to DRI are gone.

 -- Bryce Harrington <bryce@ubuntu.com>  Sat, 04 Apr 2009 12:49:38 -0700

xserver-xorg-video-intel (2:2.6.3-0ubuntu5) jaunty; urgency=low

  * Disable 114_fix_xv_with_non_gem.patch: At the time we accepted it, it
    sounded a little risky, so I took it on the condition that it didn't
    cause regressions, which apparently we have proof that it does.
    (LP: #348428) (Reopen 344740)

 -- Bryce Harrington <bryce@ubuntu.com>  Fri, 03 Apr 2009 20:03:39 -0700

xserver-xorg-video-intel (2:2.6.3-0ubuntu4) jaunty; urgency=low

  * Add 117_quirk_thinkpad_x30.patch:
    - Pipe-A quirk to fix lid close freeze on Thinkpad X30
      (LP: #304614)
  * Add 118_drop_legacy3d.patch:
    - Remove Legacy3D as a user-configurable option and force fallback to
      legacy fixed textures when GEM is not being used.  Fixes "couldn't
      bind memory for BO backbuffer" issue on at least i855 chipsets.
      (LP: #322646)

 -- Bryce Harrington <bryce@ubuntu.com>  Wed, 01 Apr 2009 00:25:55 -0700

xserver-xorg-video-intel (2:2.6.3-0ubuntu3) jaunty; urgency=low

  * Add 116_865g_disable_dri.patch:
    - On 865G chipset, X freezes during boot with DRI enabled.  Disabling it
      as a workaround until a better fix is found.
      (LP: #317457)
  * Drop explicit dependency on libdrm-intel1, as libdrm now provides
    this properly (libdrm2 commit a87c1a081b77a29fe3430d).

 -- Bryce Harrington <bryce@ubuntu.com>  Tue, 31 Mar 2009 18:36:00 -0700

xserver-xorg-video-intel (2:2.6.3-0ubuntu2) jaunty; urgency=low

  * Add 114_fix_xv_with_non_gem.patch, 115_fix_crash_xv_overlay.patch:
    - Fix green window when playing movies with Xv extension (LP: #344740)

 -- Bryce Harrington <bryce@ubuntu.com>  Wed, 18 Mar 2009 17:05:09 -0700

xserver-xorg-video-intel (2:2.6.3-0ubuntu1) jaunty; urgency=low

  * New upstream release:
    - Access the Xv buffer through the GTT for the non-KMS case.
    - Fix i915 textured video to work with the i830_memory -> bo change.
    - Make i830_allocate_memory take tiling parameters.
    - Fixup bogus VBT when detected.  Causes incorrect video modes for
      several Dell and Sony machines.
    - Various KMS, BOs, UXA, and DRI2 fixes
    - Various new hw quirks
  * Add ChangeLog not included in upstream tarball (else FTBS)
  * Add 112_num_used_fences.patch: Work around FTBS due to missing kernel
    header changes (from drm commit 0f973f27888e4664b253ab2cf69c67c2eb80ab1b)
  * debian/control:  Update libdrm2 dependency to 2.4.5
  * Drop patches applied upstream:
    - 104_i830-vbt-timing-hack.patch
    - 108_dont_disable_vga_centering_bit.patch
    - 111_quirks_march4_sync.patch (Fixes LP: #343577)
  * Refresh 107_remove_pageflipping.diff to apply

 -- Bryce Harrington <bryce@ubuntu.com>  Tue, 17 Mar 2009 13:34:59 -0700

xserver-xorg-video-intel (2:2.6.1-1ubuntu5) jaunty; urgency=low

  * Add 111_quirks_march4_sync.patch: Cherrypick from upstream's quirks
    - Fix LVDS issues on MSI IM-945GSE-A and all GM45 chips
    - Fix lid close issue on Mirrus Centrino laptop
    - Fix tv-out issue on HP Compaq nx6310 systems

 -- Bryce Harrington <bryce@ubuntu.com>  Wed, 04 Mar 2009 14:46:30 -0800

xserver-xorg-video-intel (2:2.6.1-1ubuntu4) jaunty; urgency=low

  * Add 110_quirk_hp_mini.patch: Pipe-A quirk for an HP Mini
  * Renumber patch 02_i830-fifo-watermark-conservative.patch to
    109_i830-fifo-watermark-conservative.patch

 -- Bryce Harrington <bryce@ubuntu.com>  Mon, 02 Mar 2009 21:52:04 -0800

xserver-xorg-video-intel (2:2.6.1-1ubuntu3) jaunty; urgency=low

  * Add 02_i830-fifo-watermark-conservative.patch: Avoid pipe underruns on
    high graphics activity, which caused flicker and sometimes complete screen
    corruption. (LP: #311895, fd.o #19304)

 -- Martin Pitt <martin.pitt@ubuntu.com>  Wed, 25 Feb 2009 08:26:35 +0100

xserver-xorg-video-intel (2:2.6.1-1ubuntu2) jaunty; urgency=low

  * Add 108_dont_disable_vga_centering_bit.patch.  Cherry-pick from
    upstream commit 3aa8591abfbe8db0f13912910c850fdd748808df.
    Don't disable vga centering bit.  Causes failure to display
    lower resolutions on Eee PCs, etc.
    (LP: #324913)

 -- Bryce Harrington <bryce@ubuntu.com>  Mon, 09 Feb 2009 15:20:29 -0800

xserver-xorg-video-intel (2:2.6.1-1ubuntu1) jaunty; urgency=low

  * Merge with Debian experimental, remaining changes:
    - debian/control:
      + Add lpia to the list of architectures.
      + Drop Vcs-* as we're not using these repos for -intel.
    - debian/patches:
      + 103_quirk_intel_mb890.patch
        Add ignore lvds quirk for mb890 motherboards to fix issue where
        display shows all in one color. (LP: 305269)
      + 104_i830-vbt-timing-hack.patch
        Adjust h and vblank end to fix issue on Dell Studio 15 and
        other similar hardware. Fixes issue where X comes up with an
        unusable white screen on the LVDS. (LP: 297245)
  * Add 105_no_modesetting.diff
    - 2.6.28 doesn't ship drm headers that support modesetting, so
      disable it for the driver to build.
  * Add 106_remove_triple_buffering.diff
    - Obsolete code, prerequisite for the next patch.
  * Add 107_remove_pageflipping.diff
    - Remove pageflipping support. It never got in the kernel drm code,
      so without this the build fails.

 -- Timo Aaltonen <tjaalton@ubuntu.com>  Fri, 23 Jan 2009 10:41:27 +0200

xserver-xorg-video-intel (2:2.6.1-1) experimental; urgency=low

  * New upstream release.
  * Build against xserver 1.6 rc1.

 -- Julien Cristau <jcristau@debian.org>  Thu, 22 Jan 2009 00:18:25 +0100

xserver-xorg-video-intel (2:2.6.0-1) experimental; urgency=low

  * New upstream release.

 -- Brice Goglin <bgoglin@debian.org>  Thu, 15 Jan 2009 10:54:17 +0100

xserver-xorg-video-intel (2:2.5.99.2-1) experimental; urgency=low

  * New upstream release.
    + doesn't crash on EnterVT with libdrm 2.4.3 (closes: #511263)
  * Update libdrm-dev build-dep to 2.4.3.

 -- Julien Cristau <jcristau@debian.org>  Wed, 14 Jan 2009 08:08:20 +0100

xserver-xorg-video-intel (2:2.5.1-1ubuntu9) jaunty; urgency=low

  * i830-vbt-timing-hack.patch: Adjust h and vblank end to fix issue on
    Dell Studio 15 and other similar hardware.  Fixes issue where X 
    comes up with an unusable white screen on the LVDS.
    (LP: #297245)

 -- Bryce Harrington <bryce@ubuntu.com>  Tue, 13 Jan 2009 16:18:19 -0800

xserver-xorg-video-intel (2:2.5.1-1ubuntu8) jaunty; urgency=low

  * 103_quirk_intel_mb890.patch: Add ignore lvds quirk for mb890
    motherboards to fix issue where display shows all in one color.
    (LP: #305269)

 -- Bryce Harrington <bryce@ubuntu.com>  Tue, 13 Jan 2009 00:01:48 -0800

xserver-xorg-video-intel (2:2.5.1-1ubuntu7) jaunty; urgency=low

  * Also add lpia in the Architecture list of the -dbg package to clear it off
    jaunty_outdate.txt (we have the -dbg on other arches anyway).

 -- Loic Minier <lool@dooz.org>  Sat, 20 Dec 2008 21:38:09 +0100

xserver-xorg-video-intel (2:2.5.1-1ubuntu6) jaunty; urgency=low

  * Rebuild against the new xserver

 -- Timo Aaltonen <tjaalton@ubuntu.com>  Mon, 15 Dec 2008 10:19:55 +0200

xserver-xorg-video-intel (2:2.5.1-1ubuntu5) jaunty; urgency=low

  * Add explicit Depends for libdrm-intel1 (LP: #303177)

 -- Bryce Harrington <bryce@ubuntu.com>  Fri, 05 Dec 2008 20:03:20 +0000

xserver-xorg-video-intel (2:2.5.1-1ubuntu4) jaunty; urgency=low

  * Drop 111_textured_video_option.patch.  XvPreferOverlay (commit
    24c34f02) now provides an equivalent capability for turning textured
    video off, making this patch redundant.

 -- Bryce Harrington <bryce@ubuntu.com>  Tue, 02 Dec 2008 12:47:10 -0800

xserver-xorg-video-intel (2:2.5.1-1ubuntu3) jaunty; urgency=low

  * 102_quirk_hp_2730p.patch: pipea quirk for hp 2730p (LP: #291555)

 -- Bryce Harrington <bryce@ubuntu.com>  Tue, 02 Dec 2008 11:47:28 -0800

xserver-xorg-video-intel (2:2.5.1-1ubuntu2) jaunty; urgency=low

  * Drop 128_stolen_memory_counting_g4x.patch (already upstream)
  * Refresh and re-enable 111_textured_video_option.patch

 -- Bryce Harrington <bryce@ubuntu.com>  Tue, 02 Dec 2008 09:13:34 -0800

xserver-xorg-video-intel (2:2.5.1-1ubuntu1) jaunty; urgency=low

  * Merge with debian experimental.  Remaining changes:
    - debian/control:
      + Change the maintainer address.
      + Add lpia to the list of architectures.
      + Drop Vcs-* as we're not using these repos for -intel.
    - debian/patches:
      + Renumber Ubuntu patches +100
      + 101_quirk_quanta_w251u.patch
      + 111_textured_video_option.patch (disabled)
      + 128_textured_video_option.patch (disabled)
  * Drop 01_fix_compiz_video.diff.  Was already disabled in Ubuntu previously
  * Drop 05_intel_exa_force_greedy.patch.  Should no longer be necessary.
  * Drop patches already upstream:
    - 20_thinkpad_g40_quirk.patch
    - 21_quirk_lenovo.patch
    - 22_no_pipe_for_hotplug_detection.patch
    - 23_quirks_studiohybrid_eeepc_and_w251u.patch
    - 24_no_render_suspend
    - 25_quirk_nc6110.patch
    - 26_i830-use-lfp-data-ptrs.patch
    - 27_disable_fbc_on_965.patch

 -- Bryce Harrington <bryce@ubuntu.com>  Thu, 27 Nov 2008 10:46:18 -0800

xserver-xorg-video-intel (2:2.5.1-1) experimental; urgency=low

  * New upstream release.
  * Wrap build-deps in debian/control.
  * Build depend on libdrm-dev on all archs, since it's now required, and bump
    the build dep to 2.4.1.

 -- Julien Cristau <jcristau@debian.org>  Sun, 23 Nov 2008 17:02:31 +0100

xserver-xorg-video-intel (2:2.4.2-1) experimental; urgency=low

  * Drop the xserver-xorg-video-i810 transitional package.
  * Build against xorg-server 1.5.
  * New upstream release (no changes from the previous snapshot other than the
    version number).

 -- Julien Cristau <jcristau@debian.org>  Thu, 04 Sep 2008 02:49:59 +0200

xserver-xorg-video-intel (2:2.4.1-1ubuntu11) jaunty; urgency=low

  * Re-enable 11_textured_video_option.patch, but change logic so it is
    enabled by default.  This allows people seeing issues with it to
    turn it off if they wish.  (LP: #278318)

 -- Bryce Harrington <bryce@ubuntu.com>  Fri, 14 Nov 2008 14:55:33 -0800

xserver-xorg-video-intel (2:2.4.1-1ubuntu10) intrepid; urgency=low

  * 28_stolen_memory_counting_g4x.patch:
    - Fixes freeze on login for G45 hardware when X.org runs in EXA mode.
      Issue was fixed upstream in both the kernel and x driver.  This
      patch is also in Debian.
      (LP: #285572)

 -- Bryce Harrington <bryce@ubuntu.com>  Tue, 21 Oct 2008 11:35:13 -0700

xserver-xorg-video-intel (2:2.4.1-1ubuntu9) intrepid; urgency=low

  * 27_disable_fbc_on_965.patch:
    - Works around issue where flash videos freeze after playing for a few
      moments on i965 chipset, by disabling Frame Buffer Compression, which
      is not working reliably on this chipset.  It can be re-enabled via the
      FrameBufferCompression option for testing purposes.
      (LP: #275285)
  
 -- Bryce Harrington <bryce@ubuntu.com>  Fri, 17 Oct 2008 18:11:03 -0700

xserver-xorg-video-intel (2:2.4.1-1ubuntu8) intrepid; urgency=low

  * 26_i830-use-lfp-data-ptrs.patch:
    - Fixes fatal server error "Couldn't find PLL settings for mode"
      on a 855GM chipset, due to having an inaccurate VBT LFP_DATA
      section from the BIOS parser.  This pulls the info from a
      different (more trustworthy) version of the data structure.
      (LP: #274045)

 -- Bryce Harrington <bryce@ubuntu.com>  Thu, 16 Oct 2008 12:38:19 -0700

xserver-xorg-video-intel (2:2.4.1-1ubuntu7) intrepid; urgency=low

  * Drop Vcs-* as we're not using these repos for -intel.

 -- Loic Minier <lool@dooz.org>  Wed, 15 Oct 2008 13:24:36 +0200

xserver-xorg-video-intel (2:2.4.1-1ubuntu6) intrepid; urgency=low

  * 25_quirks_nx6110.patch:
    - Fixes error msg that "Mode 1280x1024 does not fit virtual size"
      (LP: #271707)

 -- Bryce Harrington <bryce@ubuntu.com>  Sat, 20 Sep 2008 18:20:56 -0700

xserver-xorg-video-intel (2:2.4.1-1ubuntu5) intrepid; urgency=low

  * 24_no_render_suspend:
    - Fix blank screen and crash on startup with x4500 (LP: #265119)

 -- Christopher James Halse Rogers (RAOF) <chalserogers@gmail.com>  Fri, 19 Sep 2008 14:00:28 +1000

xserver-xorg-video-intel (2:2.4.1-1ubuntu4) intrepid; urgency=low

  * 23_quirks_studiohybrid_eeepc_and_w251u.patch:
    - Fix blank screen on startup on Asus Eee PC due to LVDS
      misconfiguration (LP: #233787)
    - Fix blank screen on startup on Dell Studio Hybrid due to LVDS
      misconfiguration (LP: #267945)
    - Fix crash on lid close on Gigabyte W251U - pipeA quirk (LP: #244242)

 -- Bryce Harrington <bryce@bryceharrington.org>  Fri, 12 Sep 2008 00:53:01 +0000

xserver-xorg-video-intel (2:2.4.1-1ubuntu3) intrepid; urgency=low

  * Rebuild against the new xserver-xorg-dev.

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Fri, 12 Sep 2008 01:09:40 +0300

xserver-xorg-video-intel (2:2.4.1-1ubuntu2) intrepid; urgency=low

  * 22_no_pipe_for_hotplug_detection.patch: Don't allocate a pipe for
    hotplug detection. (LP: #256142)

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Tue, 02 Sep 2008 16:13:52 +0300

xserver-xorg-video-intel (2:2.4.1-1ubuntu1) intrepid; urgency=low

  * New upstream version, this is basically version 2.4.2. (LP: #260603)
  * Merge with debian experimental. Remaining changes:
    - debian/patches
      + 20_thinkpad_g40_quirk.patch:
        Quirk for IBM Thinkpad G40
      + 21_quirk_lenovo.patch:
        Pipe-A quirks for Lenovo ThinkPad T60
    - debian/control:
      + Change the maintainer address.
      + Add lpia to the list of architectures.
  * Disable 01_fix_compiz_video.diff, since it appears to be obsolete
    by now.
  * Drop 05_intel_exa_force_greedy.patch, since it was not used (crash)
    and the option doesn't seem to improve the performance anymore.
  * Disable 11_textured_video_option.patch for now, textured video seems
    to work just fine now.

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Tue, 26 Aug 2008 14:19:55 +0300

xserver-xorg-video-intel (2:2.4.1-1) experimental; urgency=low

  [ Timo Aaltonen ]
  * New upstream release.

  [ Julien Cristau ]
  * Pull from 2.4-branch HEAD as of August 24th.

 -- Julien Cristau <jcristau@debian.org>  Sun, 24 Aug 2008 18:28:32 +0200

xserver-xorg-video-intel (2:2.4.0-1ubuntu1) intrepid; urgency=low

  * Merge with debian experimental.
  * 20_thinkpad_g40_quirk.patch: don't remove another quirk, must've been
    a mistake (and not related to G40).
  * 21_quirk_lenovo.patch: rename and drop the HP quirk, since it's
    upstream.
  * rules: drop the change to not build intel_reg_dumper, libpciaccess is
    in main now.
  * changelog: bring back old entries lost during an old merge (ahem..).
  * Fixes from upstream 2.4-branch:
    30_update_dsparb.patch
    - Update DSPARB while planes are still off.
    31_reorder_visuals.patch
    - Reorder visuals reported by the intel driver.
    32_dont_program_dsparb.patch
    - Don't program dsparb on new Intel chip.
    33_fix_hp_pavilion_quirk.patch
    - Fix up the HP Pavilion ze4944ea quirk. The chip is 855GM, not GM45.

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Thu, 07 Aug 2008 14:38:09 +0300

xserver-xorg-video-intel (2:2.4.0-1) experimental; urgency=low

  * New upstream release.
  * Refresh patch 01_gen_pci_ids.diff.
  * Don't handle the nostrip build option in debian/rules, dh_strip does that;
    allow the parallel=n option.
  * Run autoreconf at build-time; build-depend on automake, libtool and
    xutils-dev.
  * Drop the debian revision from the libxvmc-dev build-dep.

 -- Julien Cristau <jcristau@debian.org>  Sun, 27 Jul 2008 13:18:42 +0200

xserver-xorg-video-intel (2:2.3.2-3) experimental; urgency=low

  * Build against xserver 1.5 rc5.

 -- Julien Cristau <jcristau@debian.org>  Mon, 14 Jul 2008 01:26:43 +0200

xserver-xorg-video-intel (2:2.3.2-2+lenny1) unstable; urgency=low

  * Cherry-pick patches from the 2.4.0 release:
    - Add support for Intel 4 series chipsets
    - add some quirks to force enable pipe A on some machines: in particular,
      all 855GM (closes: #482819), and Lenovo T60 (closes: #487672)
    - i810: Remove an effectively unused variable (only used in an incorrect
      free())
    - Give asus and eeepc backlight method higher priority
    - Don't use the phase shift bits on GM45
    - Fix official name for GM45 chipset
    - Improve FBC size checking
    - Only initialize integrated TV encoder for mobile chips
    - Add no LVDS quirk for Transtec Senyo 610 mini PC
    - Thinkpad R60e TV quirk via DMI info
  * Fix debian/rules build/patch dependencies.

 -- Julien Cristau <jcristau@debian.org>  Sun, 27 Jul 2008 11:44:09 +0200

xserver-xorg-video-intel (2:2.3.2-2ubuntu3) intrepid; urgency=low

  * Remove 19_check_exa_pitch_to_fix_rotate_crash.patch, fixed upstream
    using a different approach. (LP: #246835)

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Wed, 09 Jul 2008 15:31:08 +0300

xserver-xorg-video-intel (2:2.3.2-2ubuntu2) intrepid; urgency=low

  * Disable 05_intel_exa_force_greedy.patch, since it makes the driver
    to segfault the xserver. (LP: #246581)

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Tue, 08 Jul 2008 18:31:22 +0300

xserver-xorg-video-intel (2:2.3.2-2ubuntu1) intrepid; urgency=low

  * Merge from debian unstable, remaining changes:
    - debian/patches
      + 01_fix_compiz_video.diff:
        use xf86XVFillKeyHelperDrawable() to fix video playback with
        compositing enabled.
      + 05_intel_exa_force_greedy.patch:
        Force use of greedy mode on intel hardware.
        (LP: 177492, 148247, 152206)
      + 11_textured_video_option.patch:
        Renamed and reworked version of the old
        11_hw_overlay_option.diff patch, to re-enable the textured video
        option, to allow users to turn off textured video.
      + 19_check_exa_pitch_to_fix_rotate_crash.patch:
        Fixes crash on xrandr rotation by checking EXA pitch size.
        (LP: #174745)
      + debian/patches/20_thinkpad_g40_quirk.patch: Quirk for IBM Thinkpad G40
        (LP: #240457)
      + 21_quirk_lenovo_and_hp_pavilion.patch: Pipe-A quirks for Lenovo
        ThinkPad T60 (LP: #243405) and HP Pavilion ze4944ea (LP: #242389)
    - debian/control:
      + Change the maintainer address.
      + Add lpia to the list of architectures.
      + Reduce build depends version of dpkg-dev to 1.14.16 to enable it to
        build on Hardy.  The version change was to fix a bug we workaround
        already in our rules change below.
    - debian/rules:
      + Don't build the intel_reg_dumper tool, since libpciaccess is in
        universe.
      + Drop dpkg-shlibdeps with --warnings=6 (FTBS)

 -- Bryce Harrington <bryce@ubuntu.com>  Mon, 07 Jul 2008 21:10:38 -0700

xserver-xorg-video-intel (2:2.3.2-2) unstable; urgency=high

  * High urgency upload for RC bug fix.
  * Update debian/copyright, thanks to Thomas Viehmann for reporting, and
    Moritz Muehlenhoff for the thorough analysis (closes: #486340).
  * Change the libdrm memory manager check in configure to look for 2.4.0
    instead of 2.3.1, as libdrm 2.3.1 was released without it.

 -- Julien Cristau <jcristau@debian.org>  Thu, 03 Jul 2008 16:55:05 +0200

xserver-xorg-video-intel (2:2.3.2-1ubuntu3) intrepid; urgency=low

  * debian/patches/21_quirk_lenovo_and_hp_pavilion.patch:
    + Quirk for fixing lockup on lid close for the Lenovo ThinkPad T60
      (LP: #243405)
    + Quirk for fixing lockup on lid close for the HP Pavilion ze4944ea
      (LP: #242389)

 -- Bryce Harrington <bryce@ubuntu.com>  Thu, 26 Jun 2008 20:36:29 -0700

xserver-xorg-video-intel (2:2.3.2-1ubuntu2) intrepid; urgency=low

  * debian/patches/20_thinkpad_g40_quirk.patch: Quirk for IBM Thinkpad G40
      (LP: #240457)

 -- Bryce Harrington <bryce@ubuntu.com>  Fri, 20 Jun 2008 22:48:30 -0700

xserver-xorg-video-intel (2:2.3.2-1ubuntu1) intrepid; urgency=low

  * Merge from debian unstable, remaining changes:
    - debian/patches
      + 01_fix_compiz_video.diff:
        use xf86XVFillKeyHelperDrawable() to fix video playback with
        compositing enabled.
      + 05_intel_exa_force_greedy.patch:
        Force use of greedy mode on intel hardware.
        (LP: 177492, 148247, 152206)
      + 11_textured_video_option.patch:
        Renamed and reworked version of the old
        11_hw_overlay_option.diff patch, to re-enable the textured video
        option, to allow users to turn off textured video.
      + 19_check_exa_pitch_to_fix_rotate_crash.patch:
        Fixes crash on xrandr rotation by checking EXA pitch size.
        (LP: #174745)
    - debian/control:
      + Change the maintainer address.
      + Add lpia to the list of architectures.
      + Reduce build depends version of dpkg-dev to 1.14.16 to enable it to
        build on Hardy.  The version change was to fix a bug we workaround
        already in our rules change below.
    - debian/rules:
      + Don't build the intel_reg_dumper tool, since libpciaccess is in
        universe.
      + Drop dpkg-shlibdeps with --warnings=6 (FTBS)

 -- Bryce Harrington <bryce@ubuntu.com>  Thu, 19 Jun 2008 22:36:51 -0700

xserver-xorg-video-intel (2:2.3.2-1) unstable; urgency=low

  * New upstream release.
    + Revert "Add FIFO watermark regs to register dumper",
      closes: #482369, #471413.
    + Fix TV programming:  add vblank wait after TV_CTL writes,
      closes: #485616.

 -- Brice Goglin <bgoglin@debian.org>  Wed, 18 Jun 2008 07:16:05 +0200

xserver-xorg-video-intel (2:2.3.1-1ubuntu1) intrepid; urgency=low

  * Merge from debian unstable, remaining changes:
    - debian/patches
      + 01_fix_compiz_video.diff:
        use xf86XVFillKeyHelperDrawable() to fix video playback with
        compositing enabled.
      + 05_intel_exa_force_greedy.patch:
          Force use of greedy mode on intel hardware.
          (LP: 177492, 148247, 152206)
      + 19_check_exa_pitch_to_fix_rotate_crash.patch:
        Fixes crash on xrandr rotation by checking EXA pitch size.
        (LP: #174745)
    - debian/control:
      + Change the maintainer address.
      + Add lpia to the list of architectures.
      + Reduce build depends version of dpkg-dev to 1.14.16 to enable it to
        build on Hardy.  The version change was to fix a bug we workaround
        already in our rules change below.
    - debian/rules:
      + Don't build the intel_reg_dumper tool, since libpciaccess is in
        universe.
      + Drop dpkg-shlibdeps with --warnings=6 (FTBS)
  * 11_textured_video_option.patch:
    - Renamed and reworked version of the old 11_hw_overlay_option.diff
      patch, to re-enable the textured video option, to allow users to
      turn off textured video.
  * Dropped patches that are now upstream
  * Restore Debian's Conflicts/Replaces for -i810 and symlink i810 to
    intel.  We are now following suit to Debian and X.org and fully
    deprecating the i810 driver and with 915resolution with this
    release; remaining issues requiring use of the i810 driver need to
    be reported to Launchpad and upstream so they can finally all get
    fixed.

 -- Bryce Harrington <bryce@ubuntu.com>  Fri, 06 Jun 2008 19:34:28 -0700

xserver-xorg-video-intel (2:2.3.1-1) unstable; urgency=low

  * New upstream release.

 -- Brice Goglin <bgoglin@debian.org>  Mon, 12 May 2008 03:55:45 +0200

xserver-xorg-video-intel (2:2.3.0-1) experimental; urgency=low

  * Build-depend on dpkg-dev >= 1.14.17 for dpkg-shlibdeps --warnings.
  * New upstream release.

 -- Julien Cristau <jcristau@debian.org>  Wed, 23 Apr 2008 17:53:26 +0200

xserver-xorg-video-intel (2:2.2.99.903-1) experimental; urgency=low

  * New upstream release candidate.
    + Fix LVDS regression: disable panel fitting on 855GM,
      and fix dither setting, closes: #473838.

 -- Brice Goglin <bgoglin@debian.org>  Tue, 15 Apr 2008 15:04:32 +0200

xserver-xorg-video-intel (2:2.2.99.902-1) experimental; urgency=low

  * New upstream release candidate.
    + Disable DRI earlier if fb width > 2048, closes: #465421, #452357. 

 -- Brice Goglin <bgoglin@debian.org>  Mon, 31 Mar 2008 08:46:32 +0200

xserver-xorg-video-intel (2:2.2.99.901-2) experimental; urgency=low

  * Install libIntelXvMC.so.

 -- Brice Goglin <bgoglin@debian.org>  Sat, 29 Mar 2008 12:15:14 +0100

xserver-xorg-video-intel (2:2.2.99.901-1) experimental; urgency=low

  [ Julien Cristau ]
  * Add the ${shlibs:Depends} substvar to the -dbg package's dependencies, to
    bring in libpciaccess0 (closes: #467215).
  * Only build on x86, this package doesn't make sense anywhere else.
  * The Vcs-* fields are now recognized by dpkg, so drop the XS- prefix.
  * Bump Standards-Version to 3.7.3 (no changes).

  [ Brice Goglin ]
  * New upstream release.
    + Fix pciaccess version check, closes: #470266.
    + Fix crash on VT switch, closes: #469113.
    + Fix video playback on rotated display, closes: #432157.

 -- Brice Goglin <bgoglin@debian.org>  Fri, 21 Mar 2008 21:50:59 +0100

xserver-xorg-video-intel (2:2.2.1-2ubuntu2) intrepid; urgency=low

  * 20_dpll_prg_in_crtc_mode_set.patch:
      - Fixes display problems caused by Jesse's force pipe A enablement
        patch, which breaks DPLL programming.

 -- Bryce Harrington <bryce@ubuntu.com>  Wed, 28 May 2008 15:30:31 -0700

xserver-xorg-video-intel (2:2.2.1-2ubuntu1) intrepid; urgency=low

  * Merge from debian unstable, remaining changes:
    - debian/patches
      + 01_fix_compiz_video.diff:
        use xf86XVFillKeyHelperDrawable() to fix video playback with
        compositing enabled.
      + 03_dell_1535_quirk.diff:
        Add a quirk for Dell Inspiron 1535 so it does not configure
        against the HDMI port instead of the LCD's native resolution
        (LP: 187860).
      + 04_dell_1735_quirk.diff:
        Another HDMI port quirk, for the Dell Inspiron 1735.
        (LP: 188204)
      + 05_intel_exa_force_greedy.patch:
        Force use of greedy mode on i965 hardware.
        (LP: 177492, 148247, 152206)
      + 08_945gm_quirk.diff:
        Adds quirk for another laptop model with a tv out detection bug.
        (LP: 152416)
      + 10_hw_overlay.diff:
        Replace explicit checks for G965 for having no overlay since it
        has one, with general check for future chips that may have no
        overlay. (LP: 201596, 152206)
      + 11_hw_overlay_option.diff:
        Add a Boolean "TexturedVideo" option with default 'true'  value
        to be able to turn textured video off.
        (LP: 201596, 152206)
      + 12_quirk_sync.patch: Add some quirks from current git
        upstream, and a quirk for Dell Latitude D630 (LP: 197740)
      + 13_dpms_low_power_overlay.patch:
        Fix crash triggered by dpms low power mode with hardware overlay
        running (LP: 160309)
      + 14_sysfs_fujitsu_backlight.patch:
        Add sysfs backlight support for Fujitsu laptops (LP: 197620)
      + 15_quirk_sony_vaio_vgn-sz4mn.patch:
        Another Pipe A quirk - not already included - for the Sony Vaio
        VGN-SZ4MN. (LP: 212163)
      + 16_legacy_backlight_blc_pwn_ctl.patch:
        Fixes issue where gdm, opengl apps, and vlc resets brightness to
        xbacklight value on i915, by switching from BCM_LEGACY to
        BCM_COMBO. (LP: 201933)
      + 17_lockup_virtual_size_2048.patch:
        Fixes crash if Virtual set to >2048 by disabling DRI in this case,
        prior to initializing the DRI subsystem. (LP: 188178)
    - debian/control:
      + Change the maintainer address.
      + Add lpia to the list of architectures.
      + Nuke Conflicts and Replaces related to -i810.
      + Nuke /usr/lib/xorg/modules/drivers/i810_drv.so symlink
      + Nuke /usr/share/man/man4/i810.4 conflict
      + Don't conflict with 915resolution, since it breaks upgrades
        where people are still using i810 with widescreen resolutions.
        (LP: 206167)
    - debian/rules:
      + Don't build the intel_reg_dumper tool, since libpciaccess is in
        universe.
      + Allow xserver-xorg-video-i810 and xserver-xorg-video-intel to
        coexist until -intel is able to replace it completely.
  * debian/patches/18_quirks.patch:
    - Add quirks for pipe A and tv output bugs.
      (Closes LP: #204603, #216490, #201257, #224102)
  * debian/patches/19_check_exa_pitch_to_fix_rotate_crash.patch:
    - Fixes crash on xrandr rotation by checking EXA pitch size.
      EXA wasn't checking devKind in ModifyPixmapHeader, which
      makes it impossible to check homemade pixmaps (like produced
      by rotate_pixmap().  So this patch checks in all !965 cases now.
      965G supports max pitch for current exa limit (128k) so doesn't
      need checks.  (Closes LP: #174745)
  * debian/rules:
    - Drop dpkg-shlibdeps with --warnings=6 (FTBS), sounds just cosmetic

 -- Bryce Harrington <bryce@ubuntu.com>  Fri, 09 May 2008 00:22:45 -0700

xserver-xorg-video-intel (2:2.2.1-2) unstable; urgency=low

  * Add the ${shlibs:Depends} substvar to the -dbg package's dependencies, to
    bring in libpciaccess0 (closes: #467215).
  * Only build on x86, this package doesn't make sense anywhere else.
  * The Vcs-* fields are now recognized by dpkg, so drop the XS- prefix.
  * configure: check for pciaccess 0.10 instead of 0.10.0 (closes: #470266).
  * Run dpkg-shlibdeps with --warnings=6.  Drivers reference symbols from
    /usr/bin/Xorg and other modules, and that's not a bug, so we want
    dpkg-shlibdeps to shut up about symbols it can't find.

 -- Julien Cristau <jcristau@debian.org>  Sun, 13 Apr 2008 02:10:18 +0200

xserver-xorg-video-intel (2:2.2.1-1ubuntu12) hardy; urgency=low

  * debian/patches/17_lockup_virtual_size_2048.patch:
    - merging patch from http://bugs.freedesktop.org/show_bug.cgi?id=13376.
      Fixes crash if Virtual set to >2048 by disabling DRI in this case,
      prior to initializing the DRI subsystem.  (closes LP: #188178)

 -- Emmanuel Bretelle <chantra@debuntu.org>  Sat, 29 Mar 2008 14:06:49 +0000

xserver-xorg-video-intel (2:2.2.1-1ubuntu11) hardy; urgency=low

  * debian/patches/16_legacy_backlight_blc_pwn_ctl.patch:
    - Fixes issue where gdm, opengl apps, and vlc resets brightness to
      xbacklight value on i915, by switching from BCM_LEGACY to BCM_COMBO.
      This won't affect users using the kernel's /sys/class/backlight
      interfaces for managing the backlight, but should produce better
      results for the majority of legacy bit users. (LP: #201933)

 -- Bryce Harrington <bryce@ubuntu.com>  Mon, 07 Apr 2008 23:41:38 -0700

xserver-xorg-video-intel (2:2.2.1-1ubuntu10) hardy; urgency=low

  * debian/patches/15_quirk_sony_vaio_vgn-sz4mn.patch:
    - Another Pipe A quirk - not already included - for the Sony Vaio
      VGN-SZ4MN. (LP: #212163)

 -- Bryce Harrington <bryce@ubuntu.com>  Sat, 05 Apr 2008 13:00:38 -0700

xserver-xorg-video-intel (2:2.2.1-1ubuntu9) hardy; urgency=low

  * debian/patches/14_sysfs_fujitsu_backlight.patch:
    - Add sysfs backlight support for Fujitsu laptops (LP: #197620)

 -- Bryce Harrington <bryce@ubuntu.com>  Fri, 04 Apr 2008 20:02:03 -0700

xserver-xorg-video-intel (2:2.2.1-1ubuntu8) hardy; urgency=low

  * debian/patches/13_dpms_low_power_overlay.patch:
    - Fix crash triggered by dpms low power mode with hardware overlay
      running (LP: #160309)

 -- Bryce Harrington <bryce@ubuntu.com>  Fri, 04 Apr 2008 16:33:51 -0700

xserver-xorg-video-intel (2:2.2.1-1ubuntu7) hardy; urgency=low

  * debian/patches/12_quirk_sync.patch: Add some quirks from current git
    upstream, and a quirk for Dell Latitude D630 (LP: #197740)

 -- Bryce Harrington <bryce@ubuntu.com>  Fri, 04 Apr 2008 14:02:07 -0700

xserver-xorg-video-intel (2:2.2.1-1ubuntu6) hardy; urgency=low

  [ Bryce Harrington ]
  * debian/patches/05_intel_exa_force_greedy.patch: Another shot at the
    greedy patch.  This time by slightly modifying the working patch by
    moving its logic outside the i965 if loop, so it'll apply to all
    hardware.  (LP: #177492)

  [ Timo Aaltonen ]
  * Don't conflict with 915resolution, since it breaks upgrades where
    people are still using i810 with widescreen resolutions.
    (LP: #206167)

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Tue, 25 Mar 2008 11:25:42 +0200

xserver-xorg-video-intel (2:2.2.1-1ubuntu5) hardy; urgency=low

  * Fix the overlay patch to really disable TexturedVideo by default.
    (LP: #201596)

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Fri, 14 Mar 2008 11:01:09 +0200

xserver-xorg-video-intel (2:2.2.1-1ubuntu4) hardy; urgency=low

  * Revert the greedy change, use the old patch again since the new one
    doesn't work right. (LP: #177492)
  * Add patches to enable hardware overlay for i965, and disable textured
    video by default. It can be enabled again by setting
    'Option "TexturedVideo" "true"'. (LP: #152206)

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Tue, 11 Mar 2008 21:42:43 +0200

xserver-xorg-video-intel (2:2.2.1-1ubuntu3) hardy; urgency=low

  * Add 07_intel_exa_force_all_greedy.patch, to expand the fix from
    05_intel_exa_force_greedy.patch to cover all Intel chipsets, not just
    965.  (LP: #177492)
  * Drop 05_intel_exa_force_greedy.patch, since 07 is a superset of it.
  * Add 08_945gm_quirk.diff, to add quirk for another laptop model with a
    tv out detection bug.  (LP: #152416)

 -- Bryce Harrington <bryce@ubuntu.com>  Fri, 29 Feb 2008 15:52:16 -0800

xserver-xorg-video-intel (2:2.2.1-1ubuntu2) hardy; urgency=low

  * Don't build the intel_reg_dumper tool, since libpciaccess is in
    universe.

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Wed, 27 Feb 2008 00:04:15 +0200

xserver-xorg-video-intel (2:2.2.1-1ubuntu1) hardy; urgency=low

  * Merge from debian unstable (LP: #189868, #195424), remaining
    changes:
    - debian/patches
      + 01_fix_compiz_video.diff:
        use xf86XVFillKeyHelperDrawable() to fix video playback with
        compositing enabled.
      + 03_dell_1535_quirk.diff:
        Add a quirk for Dell Inspiron 1535 so it does not configure
        against the HDMI port instead of the LCD's native resolution
        (LP: 187860).
      + 04_dell_1735_quirk.diff:
        Another HDMI port quirk, for the Dell Inspiron 1735.
        (LP: 188204)
      + 05_intel_exa_force_greedy.patch:
        Force use of greedy mode on i965 hardware.
        (LP: 177492, 148247, 152206)
    - debian/control
      + Change the maintainer address.
      + Add lpia to the list of architectures.
    - Allow xserver-xorg-video-i810 and xserver-xorg-video-intel to coexist
      until -intel is able to replace it completely.
      debian/control:
      + Nuke Conflicts and Replaces related to -i810.
      debian/rules:
      + Nuke /usr/lib/xorg/modules/drivers/i810_drv.so symlink
      + Nuke /usr/share/man/man4/i810.4 conflict

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Tue, 26 Feb 2008 14:04:11 +0200

xserver-xorg-video-intel (2:2.2.1-1) unstable; urgency=low

  [ Brice Goglin ]
  * New upstream release.
    + Fix some blinking pixels and unreadable text, closes: #465921.
    + Fix i830 stolen memory mask, closes: #464661.
    + Fix flickering on i855, closes: #443809, #435621.

  [ Julien Cristau ]
  * Build the intel_reg_dumper tool, and install it in the -dbg package.
    Add build-dependency on libpciaccess-dev.

 -- Brice Goglin <bgoglin@debian.org>  Sat, 23 Feb 2008 00:52:39 +0100

xserver-xorg-video-intel (2:2.2.0.90-3) unstable; urgency=low

  * Grab upstream commit 2c8f87be99957e0e18d8bcda46bd8706ab374253
    to unbreak FramebufferCompression on i965.

 -- Brice Goglin <bgoglin@debian.org>  Wed, 06 Feb 2008 21:29:44 +0100

xserver-xorg-video-intel (2:2.2.0.90-2ubuntu7) hardy; urgency=low

  * Drop the xaa-patch, as it turns out that not only i965 has issues 
    with Xv & compiz.
  * Bump the build-dep on xserver-xorg-dev to match the current version 
    that is needed in order to default to greedy EXA.

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Thu, 21 Feb 2008 09:00:53 +0200

xserver-xorg-video-intel (2:2.2.0.90-2ubuntu6) hardy; urgency=low

  * Add 06_xaa_as_default_except_i965.patch to switch us back to XAA by
    default for intel chipsets for performance reasons, except for i965
    which does not work as well with XAA (Xv video doesn't display
    properly.)  This patch essentially just reverts upstream's 'Default to
    EXA' patch, and adds a special case i965 to allow it to use EXA.

 -- Bryce Harrington <bryce@ubuntu.com>  Tue, 19 Feb 2008 14:27:18 -0800

xserver-xorg-video-intel (2:2.2.0.90-2ubuntu5) hardy; urgency=low

  * Add 05_intel_exa_force_greedy.patch to force use of greedy mode on
    i965 hardware.  (closes LP: #177492, #148247, #152206)

 -- Bryce Harrington <bryce@ubuntu.com>  Tue, 19 Feb 2008 13:48:02 -0800

xserver-xorg-video-intel (2:2.2.0.90-2ubuntu4) hardy; urgency=low

  * 04_dell_1735_quirk.patch: Another HDMI port quirk, for the Dell
    Inspiron 1735. (LP: #188204)

 -- Bryce Harrington <bryce@ubuntu.com>  Thu, 14 Feb 2008 18:08:47 -0800

xserver-xorg-video-intel (2:2.2.0.90-2ubuntu3) hardy; urgency=low

  * 03_dell_1535_quirk.patch: Add a quirk for Dell Inspiron 1535 so it
    does not configure against the HDMI port instead of the LCD's native
    resolution (LP: #187860).

 -- Bryce Harrington <bryce@ubuntu.com>  Thu, 14 Feb 2008 15:52:01 -0800

xserver-xorg-video-intel (2:2.2.0.90-2ubuntu2) hardy; urgency=low

  * 02_quick_fix.patch: Patch from upstream to prevent a crash on start.

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Wed, 06 Feb 2008 19:04:04 +0200

xserver-xorg-video-intel (2:2.2.0.90-2ubuntu1) hardy; urgency=low

  * Merge from debian unstable, remaining changes:
    - debian/patches
      + 01_fix_compiz_video.diff:
        use xf86XVFillKeyHelperDrawable() to fix video playback with
        compositing enabled.
    - debian/control
      + Change the maintainer address.
      + Add lpia to the list of architectures.
    - Allow xserver-xorg-video-i810 and xserver-xorg-video-intel to coexist
      until -intel is able to replace it completely.
      debian/control:
      + Nuke Conflicts and Replaces related to -i810.
      debian/rules:
      + Nuke /usr/lib/xorg/modules/drivers/i810_drv.so symlink
      + Nuke /usr/share/man/man4/i810.4 conflict
  * Drop 05_fix_xv_reset.diff, different implementation upstream.

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Wed, 06 Feb 2008 18:03:24 +0200

xserver-xorg-video-intel (2:2.2.0.90-2) unstable; urgency=low

  * Actually pull the new upstream release candidate.

 -- Julien Cristau <jcristau@debian.org>  Wed, 06 Feb 2008 10:27:18 +0100

xserver-xorg-video-intel (2:2.2.0.90-1) unstable; urgency=low

  * New upstream stable branch release candidate. Fixes the following bugs:
    + server leaves pipe disabled at shutdown / vt switch ; closes: #453374
    + [855GM] need to use BIOS for mode information ; closes: #437066
    + Intel 2.2 crashes if playing a video then switching to another desktop;
      closes: #452372
    + [G33] 2.2.0 locks up X with error "First SDVO output reported failure to
      sync" ; closes: #451917

 -- David Nusinow <dnusinow@debian.org>  Tue, 05 Feb 2008 21:41:13 -0500

xserver-xorg-video-intel (2:2.2.0+git20080107-1ubuntu2) hardy; urgency=low

  * 10_merge_upstream.diff:
    - Merge all upstream commits from the stable branch up to commit
      103dc34f3afc17cea7e086927e124a30c605a686
  * 02_force_16bit_i81x.diff
    - Dropped, upstream now.

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Tue, 29 Jan 2008 12:58:37 +0200

xserver-xorg-video-intel (2:2.2.0+git20080107-1ubuntu1) hardy; urgency=low

  * Merge from debian unstable, remaining changes:
    - debian/patches
      + 01_fix_compiz_video.diff:
        use xf86XVFillKeyHelperDrawable() to fix video playback with
        compositing enabled.
      + 05_fix_xv_reset.diff
        Playing Xv video after switching modes once the Xv driver is
        initialised causes a lockup, as the overlay regisers need
        re-programming. Ensure such a reset happens after a mode-switch.
    - debian/control
      + Change the maintainer address.
      + Add lpia to the list of architectures.
    - Allow xserver-xorg-video-i810 and xserver-xorg-video-intel to coexist
      until -intel is able to replace it completely.
      debian/control:
      + Nuke Conflicts and Replaces related to -i810.
      debian/rules:
      + Nuke /usr/lib/xorg/modules/drivers/i810_drv.so symlink
      + Nuke /usr/share/man/man4/i810.4 conflict
  * debian/patches/02_force_16bit_i81x.diff:
    - Force 16bit depth on i81{0,5} chips (LP: #178837)

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Tue, 08 Jan 2008 17:22:38 +0200

xserver-xorg-video-intel (2:2.2.0+git20080107-1) experimental; urgency=low

  * New upstream snapshot
    + Clarifies backlight abilities in the manpage. Closes: #451847
    + Will use a functional backlight on older chips now. Newer chips may
      benefit from configured to use something other than the legacy setting
      though. Closes: #451848
    + Fixes exa rendering corruption on some 855GM laptops. Closes: #439210
    + Xv window hidden for a little while no longer causes segfaults.
      Closes: #457587

 -- David Nusinow <dnusinow@debian.org>  Mon, 07 Jan 2008 22:41:51 -0500

xserver-xorg-video-intel (2:2.2.0-2) UNRELEASED; urgency=low

  * Conflict with 915resolution. This driver now handles all of this itself
    and better. Closes: #452803

 -- David Nusinow <dnusinow@debian.org>  Mon, 03 Dec 2007 21:35:07 -0500

xserver-xorg-video-intel (2:2.2.0-1ubuntu1) hardy; urgency=low

  * Merge from debian unstable, remaining changes:
    - debian/patches
      + 01_fix_compiz_video.diff:
        use xf86XVFillKeyHelperDrawable() to fix video playback with
        compositing enabled
      + 05_fix_xv_reset.diff
        Playing Xv video after switching modes once the Xv driver is
        initialised causes a lockup, as the overlay regisers need
        re-programming. Ensure such a reset happens after a mode-switch.
    - debian/control
      + Change the maintainer address.
      + Add lpia to the list of architectures.
    - Allow xserver-xorg-video-i810 and xserver-xorg-video-intel to coexist
      until -intel is able to replace it completely.
      debian/control:
      + Nuke Conflicts and Replaces related to -i810.
      debian/rules:
      + Nuke /usr/lib/xorg/modules/drivers/i810_drv.so symlink
      + Nuke /usr/share/man/man4/i810.4 conflict
    - These patches have been disabled for now, since they don't apply
      fully and need closer investigation:
      + 03_fix_brightness_control.diff:
        add code from upstream to avoid confusing the platform firmware
        brightness control
      + 04_fix_hw_restore.diff
        Only restore PIPE[AB]CONF if the DPLL for that PIPE is running
        and not in VGA pipeline mode.
      + 07_fix_startup_blink.diff
        Alter startup sequence to avoid blinking the display whilst
        initialising the graphics chip.

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Sat, 24 Nov 2007 19:35:11 +0200

xserver-xorg-video-intel (2:2.2.0-1) unstable; urgency=low

  * New upstream release.
    + Also pull bugfix commit 4a2b0f340357c4ca58dc9586fad1337b83966362.
    + Fix backlight problems on various chipsets,
      closes: #443111, #438969, #439744.
    + Fix some issues with high resolution, closes: #420840.
  * Add myself to Uploaders and remove Branden with his permission.

 -- Brice Goglin <bgoglin@debian.org>  Fri, 16 Nov 2007 09:30:26 +0100

xserver-xorg-video-intel (2:2.1.99-1ubuntu1) hardy; urgency=low

  * Merge from debian unstable, remaining changes:
    - debian/patches
      + 01_fix_compiz_video.diff:
        use xf86XVFillKeyHelperDrawable() to fix video playback with
        compositing enabled
      + 05_fix_xv_reset.diff
        Playing Xv video after switching modes once the Xv driver is
        initialised causes a lockup, as the overlay regisers need
        re-programming. Ensure such a reset happens after a mode-switch.
    - debian/control
      + Change the maintainer address.
      + Add lpia to the list of architectures.
    - Allow xserver-xorg-video-i810 and xserver-xorg-video-intel to coexist
      until -intel is able to replace it completely.
      debian/control:
      + Nuke Conflicts and Replaces related to -i810.
      debian/rules:
      + Nuke /usr/lib/xorg/modules/drivers/i810_drv.so symlink
      + Nuke /usr/share/man/man4/i810.4 conflict
  * Drop patches 02, 06, 08 which have been merged upstream.
  * These patches have been disabled for now, since they don't apply fully
    and need closer investigation:
    - 03_fix_brightness_control.diff:
      add code from upstream to avoid confusing the platform firmware
      brightness control
    - 04_fix_hw_restore.diff
      Only restore PIPE[AB]CONF if the DPLL for that PIPE is running
      and not in VGA pipeline mode.
    - 07_fix_startup_blink.diff
      Alter startup sequence to avoid blinking the display whilst
      initialising the graphics chip.

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Thu, 15 Nov 2007 00:12:47 +0200

xserver-xorg-video-intel (2:2.1.99-1) experimental; urgency=low

  [ David Nusinow ]
  * Make -i810 arch: all again

  [ Julien Cristau ]
  * New upstream release candidate
    + fixes VT switch issues (closes: #431373, #436336)
    + fixes memory allocation issues (closes: #423416)
    + adds support for ch701x LVDS controllers (closes: #438650, #420350,
      #424952)

 -- Julien Cristau <jcristau@debian.org>  Sun, 11 Nov 2007 11:16:03 +0100

xserver-xorg-video-intel (2:2.1.1-5) unstable; urgency=low

  * Use the same architectures for the -dbg and i810 packages as -intel.
    This should allow it to transition to testing. Closes: #449228

 -- David Nusinow <dnusinow@debian.org>  Sun, 04 Nov 2007 09:10:31 -0500

xserver-xorg-video-intel (2:2.1.1-4ubuntu2) hardy; urgency=low

  * Duh, really nuke the i810 manpage conflict.

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Thu, 08 Nov 2007 18:52:43 +0200

xserver-xorg-video-intel (2:2.1.1-4ubuntu1) hardy; urgency=low

  * Merge from debian unstable, remaining changes:
    - debian/patches
      + 01_fix_compiz_video.diff:
        use xf86XVFillKeyHelperDrawable() to fix video playback with
        compositing enabled
      + 02_xps1330_tvout_quirk.diff:
        add quirk, xps1330 has no tv out
      + 03_fix_brightness_control.diff:
        add code from upstream to avoid confusing the platform firmware
        brightness control
      + 04_fix_hw_restore.diff
        Only restore PIPE[AB]CONF if the DPLL for that PIPE is running
        and not in VGA pipeline mode.
      + 05_fix_xv_reset.diff
        Playing Xv video after switching modes once the Xv driver is
        initialised causes a lockup, as the overlay regisers need
        re-programming. Ensure such a reset happens after a mode-switch.
      + 06_sync_quirks.diff:
        Sync TV out quirks with upstream
      + 07_fix_startup_blink.diff
        Alter startup sequence to avoid blinking the display whilst
        initialising the graphics chip.
      + 08_fix_855_3D_state.diff
        Emit the invariant 3D state to the GPU during EnterVT after
        marking the 3D state as clobbered. This fixes / works around
        textured surface corruption after resume on 855GM hardware.
    - debian/control
      + Change the maintainer address.
      + Add lpia to the list of architectures.
    - Allow xserver-xorg-video-i810 and xserver-xorg-video-intel to coexist
      until -intel is able to replace it completely.
      debian/control:
      + Nuke Conflicts and Replaces related to -i810.
      debian/rules:
      + Nuke /usr/lib/xorg/modules/drivers/i810_drv.so symlink
      + Nuke /usr/share/man/man4/i810.4 conflict

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Thu, 08 Nov 2007 08:53:28 +0200

xserver-xorg-video-intel (2:2.1.1-4) unstable; urgency=low

  * Upload to unstable

 -- David Nusinow <dnusinow@debian.org>  Sun, 16 Sep 2007 16:34:39 -0400

xserver-xorg-video-intel (2:2.1.1-3) experimental; urgency=low

  * Shorten the short description of the -dbg package a bit (thanks, Marc 'HE'
    Brockschmidt).
  * Rebuild for xserver 1.4.

 -- Julien Cristau <jcristau@debian.org>  Wed, 12 Sep 2007 11:21:49 +0200

xserver-xorg-video-intel (2:2.1.1-2) experimental; urgency=low

  [ Julien Cristau ]
  * Build against xserver 1.3.99.0.

  [ David Nusinow ]
  * Add 01_gen_pci_ids.diff.  This patch has the driver generate a list of pci
    id's that it supports and installs it where the X server can find it. The
    server with appropriate support will be able to automatically determine if
    the intel driver is the proper driver to load when no driver is specified
    in xorg.conf.

 -- Julien Cristau <jcristau@debian.org>  Sun, 19 Aug 2007 03:21:24 +0200

xserver-xorg-video-intel (2:2.1.1-1) unstable; urgency=low

  * New upstream release.
    + manpage typo fixed (closes: #432061).  Thanks, A Costa!
    + adds quirk for TV output on some 965-based laptops (closes: #434297).

 -- Julien Cristau <jcristau@debian.org>  Tue, 14 Aug 2007 12:48:02 +0200

xserver-xorg-video-intel (2:2.1.1-0ubuntu10) hardy; urgency=low

  [ Bryce Harrington ]
  [Peter Clifton]
  * 08_fix_855_3D_state.diff
    - Emit the invariant 3D state to the GPU during EnterVT after
      marking the 3D state as clobbered. This fixes / works around
      textured surface corruption after resume on 855GM hardware.
      (Closes LP: #133118)
  * 07_fix_startup_blink.diff
    - Alter startup sequence to avoid blinking the display whilst
      initialising the graphics chip.
      (Closes LP: #148686)
  * 04_fix_hw_restore.diff
    - Only restore PIPE[AB]CONF if the DPLL for that PIPE is running
      and not in VGA pipeline mode.
      (Closes LP: #108056)

  [Kyle McMartin, Bryce Harrington]
  * 06_sync_quirks.diff:
    - Sync TV out quirks with upstream

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Thu, 01 Nov 2007 21:44:36 +0200

xserver-xorg-video-intel (2:2.1.1-0ubuntu9) gutsy; urgency=low

   [Peter Clifton]
   * 01_fix_compiz_video.diff:
     - Bracket second clause in test for textured video to avoid
       compiler warning and possibly incorrect testing.
   * 04_fix_hw_restore.diff
     - Only restore palette registers for pipes which are enabled, or
       the system may hard-lock. (Initial patch by Bryce Harrington).
       (Closes LP: #127101)
   * 05_fix_xv_reset.diff
     - Playing Xv video after switching modes once the Xv driver is
       initialised causes a lockup, as the overlay regisers need
       re-programming. Ensure such a reset happens after a mode-switch.
       (Closes LP: #141063)

 -- Bryce Harrington <bryce@ubuntu.com>  Sat, 13 Oct 2007 12:58:07 -0700

xserver-xorg-video-intel (2:2.1.1-0ubuntu8) gutsy; urgency=low

  * Brown paper bag release.
  * Uncomment dh_installchangelogs.

 -- Kyle McMartin <kyle@ubunut.com>  Thu, 11 Oct 2007 13:05:43 -0400

xserver-xorg-video-intel (2:2.1.1-0ubuntu7) gutsy; urgency=low

  * 04-fix-g33-gtt-stolen-mem-range.diff:
    - Nuke, caused graphics corruption on G33, reverted kernel code.

 -- Kyle McMartin <kyle@ubuntu.com>  Tue, 09 Oct 2007 09:51:18 -0400

xserver-xorg-video-intel (2:2.1.1-0ubuntu6) gutsy; urgency=low

  * 04-fix-g33-gtt-stolen-mem-range.diff:
    - Latest kernel release changes how stolen mem range is computed on
      G33 hardware, needs this corresponding X change otherwise we die
      trying to allocate GART memory.

 -- Kyle McMartin <kyle@ubuntu.com>  Sat, 06 Oct 2007 10:01:17 -0400

xserver-xorg-video-intel (2:2.1.1-0ubuntu5) gutsy; urgency=low

  * 03_fix_brightness_control.diff:
    - add code from upstream to avoid confusing the platform firmware
      brightness control

 -- Matthew Garrett <mjg59@srcf.ucam.org>  Thu, 04 Oct 2007 00:09:54 +0100

xserver-xorg-video-intel (2:2.1.1-0ubuntu4) gutsy; urgency=low

  * 02_xps1330_tvout_quirk.diff:
    - add quirk, xps1330 has no tv out

 -- Kyle McMartin <kyle@ubuntu.com>  Fri, 28 Sep 2007 09:45:48 -0400

xserver-xorg-video-intel (2:2.1.1-0ubuntu3) gutsy; urgency=low

  * debian/patches/01_fix_compiz_video.diff:
    - default to overlay mode on hardware that supports it to
      make compiz video work

 -- Michael Vogt <michael.vogt@ubuntu.com>  Tue, 18 Sep 2007 09:48:45 +0100

xserver-xorg-video-intel (2:2.1.1-0ubuntu2) gutsy; urgency=low

  * debian/patches/01_fix_compiz_video.diff:
    - use xf86XVFillKeyHelperDrawable() to fix video playback with
      compositing enabled

 -- Michael Vogt <michael.vogt@ubuntu.com>  Tue, 14 Aug 2007 21:46:28 +0200

xserver-xorg-video-intel (2:2.1.1-0ubuntu1) gutsy; urgency=low

  * New upstream version.
  * Drop ChangeLog since it isn't updated upstream and is just
    needless diff.

 -- Kyle McMartin <kyle@ubuntu.com>  Tue, 14 Aug 2007 02:38:09 -0400

xserver-xorg-video-intel (2:2.1.0-2) unstable; urgency=low

  [ Brice Goglin ]
  * Fix XvMC support for only i810 and i815 in the long description.
  * Build a xserver-xorg-video-intel-dbg package with debugging symbols.

  [ Julien Cristau ]
  * Add upstream URL in the copyright file (thanks, Loïc Minier).

 -- Julien Cristau <jcristau@debian.org>  Mon, 09 Jul 2007 14:25:25 +0200

xserver-xorg-video-intel (2:2.1.0-1ubuntu2) gutsy; urgency=low

  * Add lpia to the list of architectures.

 -- Matthias Klose <doko@ubuntu.com>  Tue, 07 Aug 2007 13:12:48 +0000

xserver-xorg-video-intel (2:2.1.0-1ubuntu1) gutsy; urgency=low

  [ Kyle McMartin ]

  * Merge changes from 2.0.0-1ubuntu2.
  * Set Maintainer to core-dev.
  * Allow xserver-xorg-video-i810 and xserver-xorg-video-intel to coexist
    until -intel is able to replace it completely.
    - Nuke /usr/lib/xorg/modules/drivers/i810_drv.so symlink
    - Nuke /usr/share/man/man4/i810.4 conflict
    - Nuke Conflicts and Replaces related to -i810.

 -- Kyle McMartin <kyle@ubuntu.com>  Tue, 03 Jul 2007 12:45:17 -0400

xserver-xorg-video-intel (2:2.1.0-1) unstable; urgency=low

  * New upstream release.
  * Actually install the upstream README.

 -- Julien Cristau <jcristau@debian.org>  Tue, 03 Jul 2007 11:19:48 +0200

xserver-xorg-video-intel (2:2.0.0-6) experimental; urgency=low

  * Update to latest upstream (commit 1e2e3013).
  * Add myself to uploaders.

 -- Julien Cristau <jcristau@debian.org>  Mon, 02 Jul 2007 03:08:51 +0200

xserver-xorg-video-intel (2:2.0.0-5) experimental; urgency=low

  [ Drew Parsons ]
  * The upstream README file looks interesting, include it with docs.

  [ Julien Cristau ]
  * Pull in latest upstream git.

 -- Julien Cristau <jcristau@debian.org>  Fri, 22 Jun 2007 03:58:48 +0100

xserver-xorg-video-intel (2:2.0.0-4) experimental; urgency=low

  [ Julien Cristau ]
  * Update watch file (s/i810/intel/).

  [ Drew Parsons ]
  * Pull in latest upstream git (probably contains final Xv fix).
    Closes: #417860.

 -- Drew Parsons <dparsons@debian.org>  Tue, 05 Jun 2007 18:35:50 +1000

xserver-xorg-video-intel (2:2.0.0-3) experimental; urgency=low

  *  Pull in latest upstream git (updated Xv fix)

 -- Drew Parsons <dparsons@debian.org>  Wed, 30 May 2007 12:20:45 +1000

xserver-xorg-video-intel (2:2.0.0-2) experimental; urgency=low

  [ Julien Cristau ]
  * Build xserver-xorg-video-i810 in binary-indep instead of binary-arch
    (closes: #420240).  Thanks, Aaron M. Ucko!
  * Mention i965 chipsets in the long description.

  [ Timo Aaltonen ]
  * Replaces/Conflicts: xserver-xorg-driver-i810.

  [ Drew Parsons ]
  * Pull in latest upstream git
    - Restores Xv video overlay. Closes: #417860, #420281
  * autoreconf

 -- Drew Parsons <dparsons@debian.org>  Sat, 26 May 2007 18:08:33 +1000

xserver-xorg-video-intel (2:2.0.0-1ubuntu2) gutsy; urgency=low

  * Set Maintainer to core-dev.
  * Allow xserver-xorg-video-i810 and xserver-xorg-video-intel to coexist
    until -intel is able to replace it completely.
    - Nuke /usr/lib/xorg/modules/drivers/i810_drv.so symlink
    - Nuke /usr/share/man/man4/i810.4 conflict
    - Nuke Conflicts and Replaces related to -i810.

 -- Kyle McMartin <kyle@ubuntu.com>  Tue, 22 May 2007 18:53:04 +0000

xserver-xorg-video-intel (2:2.0.0-1ubuntu1) gutsy; urgency=low

  * Merge with Debian unstable, remaining changes:
    - debian/control:
      + Stop building the transitional xserver-xorg-video-i810, so that
        it doesnt overwrite the identically-named package in main
      + Replace and Conflict xserver-xorg-driver-i810.
      + Change Maintainer address.

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Mon, 21 May 2007 12:54:24 +0300

xserver-xorg-video-intel (2:2.0.0-1) unstable; urgency=low

  * New upstream release.
  * Add XS-Vcs-*.
  * Bump build-dep on xserver-xorg-dev to >= 2:1.3.0.0.
  * Remove Fabio from Uploaders, with his permission.
  * Install the bug script in the xserver-xorg-video-intel dir instead of
    -i810.
  * Install the upstream changelog.
  * Upload to unstable.

 -- Julien Cristau <jcristau@debian.org>  Fri, 20 Apr 2007 08:54:20 +0200

xserver-xorg-video-intel (2:1.9.94-1ubuntu3) feisty; urgency=low

  * Stop building the transitional xserver-xorg-video-i810, so that it doesnt
    overwrite the identically-named package in main

 -- Sarah Hobbs <hobbsee@ubuntu.com>  Tue, 17 Apr 2007 15:10:03 +1000

xserver-xorg-video-intel (2:1.9.94-1ubuntu2) feisty; urgency=low

  * src/ch7017/Makefile.{am,in}
    - [FTBFS] Fix AM_CFLAGS to include '-I$(srcdir)/..' and
      '-I$(srcdir)/../modes'.

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Mon, 16 Apr 2007 15:47:59 +0300

xserver-xorg-video-intel (2:1.9.94-1ubuntu1) feisty; urgency=low

  * Merge with Debian, remaining changes:
    debian/control
    - Change the Maintainer address.
    - Replace and Conflict xserver-xorg-driver-i810
    - Ease the dependancy on xserver-xorg-dev.
    debian/rules:
    - Add '--with-xserver-source=/' so configure uses the included headers.

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Wed,  4 Apr 2007 00:15:30 +0300

xserver-xorg-video-intel (2:1.9.94-1) experimental; urgency=low

  * New upstream release candidate.

 -- Julien Cristau <jcristau@debian.org>  Tue, 03 Apr 2007 11:36:43 +0200

xserver-xorg-video-intel (2:1.9.93-1) experimental; urgency=low

  * New upstream release candidate.
    + bump build-dep on xserver-xorg-dev to >= 2:1.2.99.903.

 -- Julien Cristau <jcristau@debian.org>  Tue, 27 Mar 2007 08:25:39 +0200

xserver-xorg-video-intel (2:1.9.92-1) experimental; urgency=low

  * New upstream release candidate.
  * Build-depend on xserver-xorg-dev 1.3rc2.

 -- Julien Cristau <jcristau@debian.org>  Thu, 15 Mar 2007 14:38:06 +0100

xserver-xorg-video-intel (2:1.9.91-2) experimental; urgency=low

  * Revert commit c2c62559e702e7de1fa2ef309fa647ab13564dc3 "Move
    single mode setting code to X server."  Brings i830PipeFindClosestMode
    back into a consistent state.  Closes: #414612.
  * autoreconf and git-add Makefile.in files in ./src subdirectories.

 -- Drew Parsons <dparsons@debian.org>  Tue, 13 Mar 2007 22:49:18 +1100

xserver-xorg-video-intel (2:1.9.91-1) experimental; urgency=low

  * Bump build-dep on libdrm-dev to >= 2.2.  Thanks, Marc 'HE' Brockschmidt!
  * New upstream release candidate.
  * Rename from -i810 to -intel to follow upstream naming.
  * (Build-)Depend on a newer xserver.

 -- Julien Cristau <jcristau@debian.org>  Thu,  8 Mar 2007 18:55:05 +0100

xserver-xorg-video-i810 (2:1.7.4-1) experimental; urgency=low

  [ David Nusinow ]
  * New upstream version
  * Generate Provides: line automatically
  * Bump xserver-xorg-core build-depend to 2:1.2.0-6 to handle this properly

  [ Julien Cristau ]
  * Drop duplicate build dependency on libdrm-dev, so this really
    closes: #383918.
  * Add support for the armeb and armel architectures, thanks to Riku Voipio
    (closes: #408797).
  * Drop all our patches, applied upstream.
  * debian/rules clean needs to depend on xsfclean.
  * Generate the dependency on xserver-xorg-core automatically.

 -- David Nusinow <dnusinow@debian.org>  Sun,  4 Mar 2007 18:20:38 -0500

xserver-xorg-video-i810 (2:1.7.2-4) unstable; urgency=low

  [ Julien Cristau ]
  * Don't build-dep on libdrm-dev on hurd-i386, and don't try to install
    the libI810XvMC library there, as it isn't built without drm.  Thanks to
    Samuel Thibault for the patch! (closes: #383918)

  [ Drew Parsons ]
  * Apply patch 20-i915_bios.patch from upsteam (1.7.4) to help with faulty
    BIOSes (where VBE initialization failed). Closes: #382120.

 -- Drew Parsons <dparsons@debian.org>  Sat, 20 Jan 2007 02:29:30 +1100

xserver-xorg-video-i810 (2:1.7.2-3) unstable; urgency=low

  * Build-Depends: quilt, needed to apply patches.
  * Replace the cvs source url in the long description with an XS-Vcs-Git
    control field and a reference to the xf86-video-intel module.
    Added a link to www.X.org.

 -- Drew Parsons <dparsons@debian.org>  Wed,  6 Dec 2006 12:52:18 +1100

xserver-xorg-video-i810 (2:1.7.2-2) unstable; urgency=low

  [ Julien Cristau ]
  * Add link to xserver-xorg-core bug script, so that bugreports contain
    the user's config and log files.
  * Bump dependency on xserver-xorg-core to >= 2:1.1.1-11, as previous
    versions don't have the bug script.

  [ Drew Parsons ]
  * Apply upstream patch 1-overlay_fix_lockup.patch (git commit
    e065324661ad08b3b359136f48090232f6138959, upstream bug #5774).
    Should remove remaining lockup problems in I830WaitLpRing().
    Closes: #272294.
  * While we're at it, apply upstream patch 11-xv_lockup.patch (git
    commit fbb376bd1a4daad4c86e349df98438989ce173f1, upstream bug
    #8594), fixing lockups related to Xv.  We'll have no lockup bugs
    in etch, dammit!  Closes: #397485.

 -- Drew Parsons <dparsons@debian.org>  Wed,  6 Dec 2006 11:50:10 +1100

xserver-xorg-video-i810 (2:1.7.2-1) unstable; urgency=low

  * New upstream version
    + Shipping the git log as part of our diff.gz rather than a separate patch
      since upstream didn't include an updated Changelog

 -- David Nusinow <dnusinow@debian.org>  Fri, 13 Oct 2006 14:33:20 -0400

xserver-xorg-video-i810 (2:1.6.5-4) UNRELEASED; urgency=low

  * Typo fix in man page. Closes: #364559.

 -- Drew Parsons <dparsons@debian.org>  Thu, 21 Sep 2006 23:21:14 +1000

xserver-xorg-video-i810 (2:1.6.5-3) unstable; urgency=low

  [ Steve Langasek ]
  * Upload to unstable

  [ Drew Parsons ]
  * Standards version 3.7.2.
  * Use debhelper 5.
  * Use dh_installman to install man pages.
  * Exclude .la from dh_install.

 -- David Nusinow <dnusinow@debian.org>  Mon, 18 Sep 2006 19:57:38 -0400

xserver-xorg-video-i810 (2:1.6.5-2) experimental; urgency=low

  [ Drew Parsons ]
  *  Provides: xserver-xorg-video-1.0 not xserver-xorg-video.

  [ David Nusinow ]
  * Bump xserver (build-)depends epochs to 2: to deal with botched
    server upload

 -- David Nusinow <dnusinow@debian.org>  Tue, 22 Aug 2006 23:46:32 +0000

xserver-xorg-video-i810 (2:1.6.5-1) experimental; urgency=low

  * New upstream release

 -- David Nusinow <dnusinow@debian.org>  Thu, 10 Aug 2006 22:53:34 +0000

xserver-xorg-video-i810 (2:1.6.4-1) experimental; urgency=low

  * New upstream release

 -- David Nusinow <dnusinow@debian.org>  Wed,  9 Aug 2006 22:37:24 +0000

xserver-xorg-video-i810 (2:1.6.3-1) experimental; urgency=low

  * New upstream release
  * Add x11proto-xinerama-dev to build-dep

 -- David Nusinow <dnusinow@debian.org>  Tue,  8 Aug 2006 22:01:43 +0000

xserver-xorg-video-i810 (2:1.6.1-2) experimental; urgency=low

  * Fix for botched upload. Identical to -1, which I built wrong.

 -- David Nusinow <dnusinow@debian.org>  Sun,  6 Aug 2006 18:37:45 +0000

xserver-xorg-video-i810 (2:1.6.1-1) experimental; urgency=low

  [ Andres Salomon ]
  * Test for obj-$(DEB_BUILD_GNU_TYPE) before creating it during build;
    idempotency fix.
  * Run dh_install w/ --list-missing.

  [ David Nusinow ]
  * New upstream version
  * Bump dependency on xserver-xorg-core to >= 1:1.1.1. Do the same thing for
    the build-dep on xserver-xorg-dev.

 -- David Nusinow <dnusinow@debian.org>  Sun,  6 Aug 2006 17:29:12 +0000

xserver-xorg-video-i810 (2:1.4.1.3-1) unstable; urgency=low

  * Roll back the version to what was released with 7.0. Stupid ABI
    incompatibilities. (closes: #359328)
  * Add call to dh_makeshlibs. Reorder dh_installdeb and dh_shlibdeps so that
    ldconfig is called during postinst. Thanks Justin Pryzby and Steve
    Langasek. (closes: #364012)

 -- David Nusinow <dnusinow@debian.org>  Sat, 22 Apr 2006 18:21:51 -0400

xserver-xorg-video-i810 (1:1.5.1.0-2) unstable; urgency=low

  * Upload to modular

 -- David Nusinow <dnusinow@debian.org>  Sun, 26 Mar 2006 20:25:40 -0500

xserver-xorg-video-i810 (1:1.5.1.0-1) experimental; urgency=low

  * New upstream release

 -- David Nusinow <dnusinow@debian.org>  Tue, 21 Mar 2006 22:40:04 -0500

xserver-xorg-video-i810 (1:1.4.1.3-3) experimental; urgency=low

  * Version build dependency on libxvmc-dev. Thanks John Hughes.
    (closes: #358165)

 -- David Nusinow <dnusinow@debian.org>  Tue, 21 Mar 2006 20:49:27 -0500

xserver-xorg-video-i810 (1:1.4.1.3-2) experimental; urgency=low

  * Don't build on sparc. Partial port of
    sparc/103_sparc_dont_build_useless_drivers.diff.

 -- David Nusinow <dnusinow@debian.org>  Sun,  5 Mar 2006 20:32:01 -0500

xserver-xorg-video-i810 (1:1.4.1.3-1) experimental; urgency=low

  * First upload to Debian
  * Change source package, package, and provides names to denote the
    type of driver and that they are for xserver-xorg

 -- David Nusinow <dnusinow@debian.org>  Fri, 13 Jan 2006 00:37:39 -0500

xserver-xorg-driver-i810 (1:1.4.1.3-0ubuntu1) dapper; urgency=low

  * New upstream release.
  * Add provides on xserver-xorg-driver.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Wed,  4 Jan 2006 19:57:22 +1100

xserver-xorg-driver-i810 (1:1.4.1.2-0ubuntu1) dapper; urgency=low

  * New upstream release.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Mon, 19 Dec 2005 09:06:03 +1100

xserver-xorg-driver-i810 (1:1.4.1.1-0ubuntu1) dapper; urgency=low

  * New upstream release.
  * Bump Build-Depends on libdrm-dev to >> 2.0.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Mon, 12 Dec 2005 13:20:11 +1100

xserver-xorg-driver-i810 (1:1.4.1-0ubuntu2) dapper; urgency=low

  * Add missing Build-Depends (x11proto-core-dev, x11proto-fonts-dev,
    x11proto-randr-dev, x11proto-render-dev, libdrm (>> 1.0.5),
    x11proto-xf86dri-dev).

 -- Daniel Stone <daniel.stone@ubuntu.com>  Mon,  5 Dec 2005 12:54:24 +1100

xserver-xorg-driver-i810 (1:1.4.1-0ubuntu1) dapper; urgency=low

  * New upstream release.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Tue, 22 Nov 2005 13:30:52 +1100

xserver-xorg-driver-i810 (1:1.4.0.1-1) dapper; urgency=low

  * New upstream version.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Thu, 20 Oct 2005 13:37:40 +1000

xserver-xorg-driver-i810 (1:1.4.0-1) breezy; urgency=low

  * First xserver-xorg-driver-i810 release.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Wed,  6 Jul 2005 15:48:17 +1000

