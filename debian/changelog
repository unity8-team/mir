mir (0.0.8+13.10.20130803-0ubuntu1) saucy; urgency=low

  [ Daniel van Vugt ]
  * fingerpaint: Paint on single clicks, and not just drags. This helps
    in testing input/buffer lag issues ;).

  [ Robert Carr ]
  * Replace SingleVisibilityFocusMechanism with a simpler and more
    flexible mechanism based around raising the surface.
  * Do not target hidden surfaces for pointer events.

  [ Alan Griffiths ]
  * graphics: Break the dependency of graphics platforms on MainLoop.

  [ Christopher James Halse Rogers ]
  * Fix mir_connection_get_display_info There's no guarantee that
    config->displays[0] will be valid, and indeed it's always invalid in
    all my tests. This causes a segfault when trying to dereference the
    current mode of an inactive display.

  [ Ubuntu daily release ]
  * Automatic snapshot from revision 920

 -- Ubuntu daily release <ps-jenkins@lists.canonical.com>  Sat, 03 Aug 2013 00:02:40 +0000

mir (0.0.8+13.10.20130802-0ubuntu1) saucy; urgency=low

  [ Daniel van Vugt ]
  * Fix crashing demo clients, since the introduction of multimonitor.
    (LP: #1207145). (LP: #1207145)
  * tools/install_on_android.sh: Don't upload to/test in Android
    directories. We don't need to now that the phablet images are
    flipped. /tmp is much safer. Also don't hardcode a particular ABI
    (which was wrong). .

  [ Alan Griffiths ]
  * graphics, compositor: Move compositor/buffer_properties.h and
    compositor/graphic_buffer_allocator.h to graphics.
  * graphics, compositor: Move buffer_ipc_packer.h to graphics.
  * graphics/gbm: negate negative error codes returned by drm so they
    can be interpreted by boost.

  [ Alexandros Frantzis ]
  * examples: Add option to specify the display configuration policy to
    use We offer three display configuration policies to all the
    examples that use configurations based on
    mir::example::ServerConfiguration: 1. clone (default) 2. sidebyside
    (outputs are placed side-by-side in the virtual space, in increasing
    connector id order) 3. single (only the first, in connector id
    order, is used).

  [ Ubuntu daily release ]
  * Automatic snapshot from revision 914

 -- Ubuntu daily release <ps-jenkins@lists.canonical.com>  Fri, 02 Aug 2013 00:02:52 +0000

mir (0.0.8+13.10.20130801-0ubuntu1) saucy; urgency=low

  [ Kevin DuBois ]
  * connect multi-display info from the display, to the client by
    improving SessionMediator.
  * prepare for global event sending (like display resizing) by
    separating the ability to send messages into distinct classes that
    is used in the client request service loops clean up constructors
    that aren't used, functions that aren't needed as well.

  [ Robert Carr ]
  * Support monitor input channels for the shell.

  [ Eleni Maria Stea ]
  * stub Platform functions to NestedPlatform replaced
    create_nested_platform with a call to the NestedPlatform constructor
    in the default_server_configuration.cpp.

  [ Alexandros Frantzis ]
  * gbm: Handle the cursor properly with multiple monitors.

  [ Ubuntu daily release ]
  * Automatic snapshot from revision 907

 -- Ubuntu daily release <ps-jenkins@lists.canonical.com>  Thu, 01 Aug 2013 00:02:49 +0000

mir (0.0.8+13.10.20130731.2-0ubuntu1) saucy; urgency=low

  [ Dmitrijs Ledkovs ]
  * Use explicit boost-dev packages.

  [ Alexandros Frantzis ]
  * gbm: Support non-cloned display configurations.

  [ Thomas Voß ]
  * Adjust documentation to account for lightdm/packaging changes.
  * Don't make Mir become a process group leader, to avoid CTRL-C
    killing the X server.

  [ Alan Griffiths ]
  * test_framework: Provide boost exception diagnostics.
  * graphics: Remove use of frontend::Surface from graphics interface &
    implementation.

  [ Daniel van Vugt ]
  * Don't run Android commands which are no longer valid in flipped
    phablet images. They will only kill your connection to the device.
    (LP: #1206369). (LP: #1206369)
  * Fix documentation to suit the new "flipped" phablet images. Also
    remove extraneous comment which could cause copy/paste mistakes.

  [ Eleni Maria Stea ]
  * mir option --nested-mode <host-socket>.
  * added a native platform interface in
    include/server/mir/graphics/native_platform.h added a new static
    library for the nested platform added some stub
    create_native_platform and create_nested_platform functions to be
    called when mir runs in nested mode.

  [ Ubuntu daily release ]
  * Automatic snapshot from revision 901

 -- Ubuntu daily release <ps-jenkins@lists.canonical.com>  Wed, 31 Jul 2013 12:55:57 +0000

mir (0.0.8+13.10.20130730-0ubuntu1) saucy; urgency=low

  [ Robert Ancell ]
  * Use the soname in the filename of all the public libraries.
    Explicityly set soname for libmirserver and libmirprotobuf.

  [ Daniel van Vugt ]
  * Separate MockBufferAllocator for reuse in other test cases.
  * Silence noisy integration tests (Uninteresting mock function calls)
    (LP: #1192618). (LP: #1192618)
  * Distinguish between a buffer locked for composition vs snapshotting.
    The difference will become very important with the introduction of
    bypass. Stay tuned.

  [ Alexandros Frantzis ]
  * graphics, shell: move GLPixelBuffer to shell.
  * compositor: Introduce and use a different DisplayBufferCompositor
    object per non-cloned output.
  * geometry: Use an closed-open representation for Rectangle end
    points.

  [ Thomas Voß ]
  * Adjust the Process class to correctly trace child processes. This
    should help a lot in avoiding/diagnosing races on armhf.

  [ Kevin DuBois ]
  * expand client api so that multiple MirDisplayInfo can be returned
    for multimonitor situations.
  * add a function to the client api to query the possible formats to
    create a surface with.
  * client: decouple MirConnection from MirEvent a bit. stop two-step
    initialization of the client rpc channel.

  [ Robert Carr ]
  * Add surface lifecycle notification to the session listener.
  * Build test_android_input_registrar.cpp.

  [ Alan Griffiths ]
  * graphics, shell: move GLPixelBuffer to shell.

  [ Maarten Lankhorst ]
  * Fixes LP: #1195509. (LP: #1195509)

  [ Ubuntu daily release ]
  * Automatic snapshot from revision 890

 -- Ubuntu daily release <ps-jenkins@lists.canonical.com>  Tue, 30 Jul 2013 00:03:17 +0000

mir (0.0.8-0ubuntu1) saucy; urgency=low

  * New release

 -- Robert Ancell <robert.ancell@canonical.com>  Mon, 22 Jul 2013 10:07:38 +1200

mir (0.0.7+13.10.20130721ubuntu.unity.next-0ubuntu1) saucy; urgency=low

  [ Robert Ancell ]
  * Update debian/copyright for 3rd_party files. (LP: #1194073)
  * update to xmir instructions.
  * Put demos back into bin, not libexec. It's confusing, conflicts with
    the documentation and makes it harder to run them.
  * Add some XMir diagnostic and recovery documentation.
  * Update docs to refer to saucy, not raring.
  * Display command line options error when failed.
  * Remove dead tag code in SessionManager.
  * Remove dead code in ProtobufSocketCommunicator.
  * Releasing 0.0.6
  * Close the platform file descriptors on destruction of MirConnection.
    (LP: #1198022)
  * Remove libancilliary and implement required functionality directly.
  * add xmir guide to debug.
  * Only use a DRM device if it has connections. (LP: #1197708)
  * Add instructions on how to compile Mesa and X.Org with Mir support.
    (LP: #1193261)

  [ Jussi Pakkanen ]
  * Explicitly create output directory before running custom command.

  [ Alexandros Frantzis ]
  * graphics: Implement GLBufferPixels to extract buffer pixels using
    GL.
  * lttng: Install tracepoint provider libraries in private lib
    subdirectory.
  * surfaces: Fix Surface::flag_for_render() Fixes lp:1195105. (LP:
    #1195105)
  * compositor: Manage the rendering target properly in the compositing
    threads.
  * shell: Implement Session::take_snapshot() method.
  * graphics: Add Display::configure() method.
  * server: Support handlers for file descriptors in MainLoop.
  * graphics: Reconfigure the Display when the display configuration
    changes.
  * tests: Fix race condition in MockDRM leading to memory errors
    Previously, because we allocated and returned memory in two step,
    using a unique storage point to hold the allocated memory, there was
    the potential for memory errors (e.g. double frees) in multithreaded
    tests (like
    drm_close_not_called_concurrently_on_ipc_package_destruction). (LP:
    #1197408)
  * server: Make symbols of loaded SharedLibraries available globally.
  * gbm: Provide different functions for validating server and client
    Mesa EGL native displays. (LP: #1177902)
  * gbm: Update mesa egl native display validation function names Update
    mesa egl native display validation function names to match the ones
    used by Mesa.
  * graphics: Introduce a DisplayConfigurationPolicy to set up
    DisplayConfigurations.
  * geometry: Add Rectangles class to hold a collection of rectangles.
  * android: Separate Display and DisplayBuffer implementations.
  * graphics: Fall back to reading RGBA pixel data in GLPixelBuffer if
    BGRA is not supported.
  * Replace ViewableArea with more fitting interfaces.

  [ Eleni Maria Stea ]
  * minor fix of typo in the example: mir_client_accelerated.
  * fixed invalid C++ code, which was using a non-standard gcc language
    extension, for named initialization of structure elements.

  [ Stephen M. Webb ]
  * disable running the integration test suite on arm architecture
    during the packaging builds (lp: #1195265). (LP: #1195265, #1195260)

  [ Didier Roche ]
  * lttng: Install tracepoint provider libraries in private lib
    subdirectory.
  * build-dep on valgrind as it's used in integration tests. (LP:
    #1195265)
  * only build on archs we support.
  * Don't build on powerpc.
  * Disable unity armhf tests, they are failing the armhf build on
    buildds.

  [ Kevin DuBois ]
  * unify advance_client_buffer and client_buffer() interfaces on
    ms::Surface. change the ms::Surface class so that it does not hold
    the client resource on behalf of the clients, the frontend or native
    windows do.
  * android drivers have an interface for the drivers to obtain a strong
    reference to the native window type. Allow the drivers to acquire
    this strong reference to the buffer backing their texture/fbo.
  * Activate sending a "swapinterval" signal over IPC. Add client api
    for software clients to request different swapintervals.
    (eglSwapInterval is not glued together just yet) Currently only
    swapinterval of 0 or 1 is supported. (LP: #1130553)
  * link eglSwapInterval hook in gbm driver to the ipc message to enable
    swapinterval0. This makes eglSwapInterval (1) or (0) work for gbm
    ipc clients only.
  * fix: lp:1196647 (test bug results in crash in android unit tests)
    bug was just in test code on android. (LP: #1196647)
  * fix: lp1192742 by cleaning up FD's when an android client
    unregisters its native_handle_t. (LP: #1192742)
  * saucy's default boost version is 1.53, yet the cross compile script
    was still on 1.49. switch script to 1.53.
  * begin cleanup of ms::Surface by breaking "ms::Surface : public
    mi::SurfaceTarget" inheritance the input system was using the
    surface object (specifically the std::weak_ptr<mi::SurfaceTarget> to
    the ms::Surface) as its 'key' for coordinating the surfaces. This
    bound the input system tightly to the surface stack, which prevented
    any proxying of ms::Surface and made the lifetime of ms::Surface
    tangled. This change breaks this dependency by making ms::Surface
    own an InputChannel, instead of it being a SurfaceTarget.
  * remove google mock from the internal source tree. Rather, use the
    google-mock package and build the source externally. (LP: #1185265,
    #1194017)
  * disable running the integration test suite on arm architecture
    during the packaging builds (lp: #1195265). (LP: #1195265, #1195260)
  * break ms::Surface : public mg::Renderable dependency, paving the way
    for a more sensible interface surrounding our ms::Surface object.
    Also ensure that graphics data is maintained synchronously. Remove
    most state from ms::Surface.
  * fixes: lp:1200782 by freeing fd's associated with buffer package.
    (LP: #1200782)

  [ Kevin Gunn ]
  * this is to change the doc's fpr preinstalled binaries to reference
    using the system-compositor-testing ppa.
  * update to xmir instructions.
  * add xmir guide to debug.

  [ Alan Griffiths ]
  * graphics, config: Dynamically load the graphics platform.
  * config: allow graphics platform library to be selected by command-
    line/config. (LP: #1118909)
  * docs: A move towards house style for the webpages.
  * Make gmock and umockdev dependencies of the tests, clean up, and
    make not building tests an option. (LP: #1196987)
  * client: remove some unnecessary memory allocation, copying and
    threading.
  * frontend: Guard SessionMediator::session against race conditions.
  * frontend: remove redundant and misleading comment.
  * frontend: cut down memory allocations by pre-allocating and reusing
    buffers.
  * geometry: more tractable construction of objects. (LP: #1199756)
  * tests: rework test to prevent test input events being missed before
    handler is registered. (LP: #1200236)
  * geometry: make geometry compound types easier to construct. (LP:
    #1199756)
  * doc: use house font and colors for coding guidelines.
  * mir: Simpler IntWrapper that doesn't need type tags upfront.
  * graphics, conpositor: Move dependencies of graphics platform into
    graphics.
  * graphics: Delete unused file -
    include/server/mir/graphics/framebuffer_backend.h.
  * graphics, compositor: Move the rendering interfaces and code to
    compositor.
  * graphics, compositor: move BufferBasic to graphics.
  * graphics::gbm: delete unused headers.

  [ Christopher James Halse Rogers ]
  * Improve GBM platform's device probing, by actually making it probe
    devices.
  * Fix clearly-broken code, for which clang produced deliberately
    broken output.
  * Fix two issues caught by Clang's static analyser.
  * I like clang's error messages. Let's keep Mir building on clang.
  * Make libmirclient not aggressively signal-unsafe by blocking signals
    on our IO thread. Fixes infinite loop in XMir (LP: #1199319). (LP:
    #1199319)
  * Document XMir drivers too.

  [ Sebastien Bacher ]
  * Small copyright fixes (lp: #1195647). (LP: #1195647)

  [ Daniel van Vugt ]
  * Cache the transformation matrix; only recalculate it when some part
    of the transformation changes. (LP: #1193020) . (LP: #1193020)
  * Don't pass a clang-only option to gcc. It will not understand and
    cause build failure (LP: #1194385). (LP: #1194385)
  * Fix build failure due to differing exception specifiers. noexcept
    destructors should be enforced in derived classes if the base uses
    them. (LP: #1194703). (LP: #1194703)
  * Document thread safety pitfalls about client-side callbacks. .
  * Fix mismatched destructor exception specifiers causing build failure
    in gcc 4.7. Also fix struct/class mismatches that some compilers
    will treat as an error. (LP: #1196415). (LP: #1196415)
  * mir_demo_client_unaccelerated: Add an FPS count, and a "-n" option
    to disable vsync (set swap interval to 0).
  * mir_demo_client_egl*: Add a "-n" option to disable syncing to vblank
    (hence to use swap interval == 0).
  * Initial attempts at making the Mir client API thread safe.
    Ordinarily you would not build locking into an API, however the fact
    that Mir clients implicitly get multiple threads created for them
    makes it important for the API itself to be automatically thread
    safe. I've tried to avoid API changes, but adding a new function:
    mir_wait_for_one was necessary. This is because mir_wait_for doesn't
    work if multiple threads are waiting on the same thing
    simultaneously. And the fact that waiting at all is optional means
    we can't change the behaviour of mir_wait_for -- it must always wait
    for all outstanding results (which is only safe in clients where the
    waiting happens in a single thread). .
  * Work around GCC issue 50043 which is causing build failures on
    raring. (LP: #1199210) The gcc bug is only fixed in 4.8/saucy. (LP:
    #1199210)
  * MockDisplayConfigurationPolicy: Work around gcc-4.7 bugs causing
    build failure on raring. (LP: #1200064). (LP: #1200064)
  * Another workaround for gcc-4.7 bugs causing build failure. (LP:
    #1200107). (LP: #1200107)
  * buffer_swapper_spin.h: Remove dead code: initialize_queues.
  * Remove unused interface surfaces::GraphicRegion It became unused
    when Kevin's work landed in r856 yesterday. .
  * Rename compositor::Renderables --> compositor::Scene What is a
    "Renderables"? It's the interface by which we know the scene graph,
    or the model of how all the surfaces relate to each other. Right,
    then call it a scene graph... but the word "graph" might imply a
    particular structure. And we don't want to imply such things in an
    interface. So just call it "scene". That makes slightly more sense
    than imagining what a "Renderables" (singular) is.
  * Fix comments which mention incorrect namespaces for Buffer following
    yesterday's landings.

  [ Ricardo Mendoza ]
  * Fix broken tests/unit-
    tests/client/android/test_client_android_registrar.cpp due to unused
    return value.

  [ Thomas Voß ]
  * Wait for vt to become active if we need to activate it.
  * Remove disabling asio's epoll reactor implementation from the
    package build flags.
  * Introduce cmake options to be able to selectively switch acceptance,
    integration and unit tests on/off. (LP: #1195265)

  [ Thomi Richards ]
  * Remove workaround for bug #1198022. (LP: #1198022)

  [ Robert Carr ]
  * Add raise method to surface stack.
  * Remove cucumber and all references. (LP: #1194075)
  * Add support for shaped input regions.
  * Store MirMotionAction as integer due to usage of extra bits by
    android input stack. (LP: #1197108)
  * Fix obscurance of touch events according to stacking.
  * Extract DefaultServerConfiguration::the_cursor_listener from
    DefaultServerConfiguration::the_input_configuration. (LP: #1192916)
  * Implement a connection authorization mechanism.
  * Correct test_surface_stack.cpp ordering tests.
  * Move the DepthId in surface creation to
    msh::SurfaceCreationParameters.

  [ Ubuntu daily release ]
  * Automatic snapshot from revision 874 (ubuntu-unity/next)

 -- Ubuntu daily release <ps-jenkins@lists.canonical.com>  Sun, 21 Jul 2013 00:03:59 +0000

mir (0.0.7-0ubuntu1) saucy; urgency=low

  * New release

 -- Robert Ancell <robert.ancell@canonical.com>  Mon, 15 Jul 2013 09:29:56 +1200

mir (0.0.6-0ubuntu1) saucy; urgency=low

  * New release

 -- Robert Ancell <robert.ancell@canonical.com>  Thu, 27 Jun 2013 15:47:06 +1200

mir (0.0.5-0ubuntu1) saucy; urgency=low

  * Misc a numerous package fixes.
  * Automatic snapshot from revision 766 (bootstrap)

 -- Didier Roche <didrocks@ubuntu.com>  Mon, 24 Jun 2013 19:02:49 +0200

mir (0.0.4-0ubuntu1) raring; urgency=low

  * change mesa header to clean up the file and add swapinterval 0 hook

 -- Kevin DuBois <kevin.dubois@canonical.com>  Mon, 17 Jun 2013 18:02:32 -0700

mir (0.0.3-0ubuntu1) raring; urgency=low

  [ Bryce Harrington ]
  * Add apport hook, source_mir.py

 -- Robert Ancell <robert.ancell@canonical.com>  Wed, 15 May 2013 11:47:32 +1200

mir (0.0.2-0ubuntu2) raring; urgency=low

  * Put mir in split mode

 -- Didier Roche <didrocks@ubuntu.com>  Wed, 20 Feb 2013 14:51:48 +0000

mir (0.0.2-0ubuntu1) raring; urgency=low

  * New upstream release
  * debian/control:
    - libmirclient-demos breaks older version of mir

 -- Robert Ancell <robert.ancell@canonical.com>  Tue, 12 Feb 2013 14:22:17 +1300

mir (0.0.1-0ubuntu1) quantal; urgency=low

  * Initial release

 -- Thomas Voß <thomas.voss@canonical.com>  Thu, 10 Jan 2013 08:53:02 +0100
