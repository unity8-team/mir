From d1dfab6b1649214177435629d8e85239dbe44d89 Mon Sep 17 00:00:00 2001
From: Matthias Hopf <mhopf@suse.de>
Date: Wed, 17 Mar 2010 14:13:51 +0000
Subject: Clear drmmode_output->mode_output in drmmode_output_destroy().

---
diff --git a/src/drmmode_display.c b/src/drmmode_display.c
index 0172a2e..1348e08 100644
--- a/src/drmmode_display.c
+++ b/src/drmmode_display.c
@@ -817,6 +817,7 @@ drmmode_output_destroy(xf86OutputPtr output)
 	}
 	xfree(drmmode_output->props);
 	drmModeFreeConnector(drmmode_output->mode_output);
+	drmmode_output->mode_output = NULL;
 	if (drmmode_output->private_data) {
 		xfree(drmmode_output->private_data);
 		drmmode_output->private_data = NULL;
--
cgit v0.8.3-6-g21f6
