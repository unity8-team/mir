# linux-cell

include $(TOP)/configs/default

CONFIG_NAME = linux-cell


# Compiler and flags
CC = ppu32-gcc
CXX = ppu32-g++
HOST_CC = gcc

# Cell SDK location
SDK = /opt/ibm/cell-sdk/prototype/sysroot/usr


CFLAGS = -g -W -Winline -fPIC -m32 -mabi=altivec -maltivec -I. -I$(SDK)/include -DGALLIUM_CELL

CXXFLAGS = $(CFLAGS)

# Omitting glw here:
SRC_DIRS = mesa glu glut/glx


MKDEP_OPTIONS = -fdepend -Y


GL_LIB_DEPS = $(EXTRA_LIB_PATH) -lX11 -lXext -lm -lpthread \
	-L$(SDK)/lib -m32 -Wl,-m,elf32ppc -R$(SDK)/lib -lspe2



### SPU stuff

SPU_CC = spu-gcc

SPU_CFLAGS = -g -W -Wall -Winline -Wmissing-prototypes -Wno-main -I. -I $(SDK)/spu/include -include spu_intrinsics.h -I $(TOP)/src/mesa/

SPU_LFLAGS = -L$(SDK)/spu/lib -Wl,-N -lmisc

SPU_AR = ppu-ar
SPU_AR_FLAGS = -qcs

SPU_EMBED = ppu32-embedspu
SPU_EMBED_FLAGS = -m32
