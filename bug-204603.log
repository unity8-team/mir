commit 0fd769b5882058e5ebf17ee1c1e35b4a3d46e6b0
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Wed Jan 2 13:57:23 2008 +0800

    xvmc: add context id info in debug/trace

commit a2bb2afd24c95e056b801c85dc12daeac54b37f0
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Fri Dec 28 15:52:12 2007 +0800

    xvmc: move drmOpen earlier
    
    remove wrong comments

commit 666e01bd426a553f23eeb5040ecbc28b4abb87da
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Wed Dec 26 09:51:09 2007 +0800

    xvmc: add info in intel.man

commit e75d0c20e3b02f649b62ac9da7f41bb43d0f3d80
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Wed Dec 26 09:37:34 2007 +0800

    xvmc: make XvMC default on

commit ed9ff6f30fff33fe2d60715f1b503047f8e1ef01
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Tue Dec 25 08:32:47 2007 +0800

    xvmc: consolidate put surface interfaces
    
    Make surface list track like context list, and move
    generic PutSurface code out of i915. So MC driver just
    needs to fill specific the command params, and we can
    get one single type of intel xvmc command to issue,
    ddx driver's put_image_size got removed.
    
    Fix last commit with missing XvMCContext assignment.
    
    Fix priv_data free with apropriate X11 XFree.

commit f0ced5edaeec3e7741828eab728417843326d56f
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Mon Dec 24 10:53:57 2007 +0800

    xvmc: store XvMCContext pointer instead of context_id in internal ctx list

commit 216ad7398742f2f80b5477e89f827acb351b4d72
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Thu Dec 20 13:39:32 2007 +0800

    xvmc: add disable xvmc build support
    
    Move xvmc source files under XVMC config

commit a811ca30659e8c477027ea9c91fb9fc516fdabc7
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Thu Dec 20 13:08:07 2007 +0800

    xvmc: handle surface create/destory in generic code

commit 5f961f28310a1cd19967df2034b0452bf4446394
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Thu Dec 20 12:51:06 2007 +0800

    xvmc: move dri context handling to generic code
    
    Use XvMCContext's context_id for dri context handling instead
    of driver private id. Remove unnecessary field for i915 private
    structs.

commit 73827e78357ab3f30a21f159ecdfb26dd0ea889b
Merge: 3cf8627... f69b48f...
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Wed Dec 19 22:47:02 2007 +0800

    Merge branch 'master' into xvmc

commit f69b48fe24ef94dac44b8123884ca71df675be4b
Author: Jesse Barnes <jbarnes@hobbes.virtuousgeek.org>
Date:   Tue Dec 18 18:10:33 2007 -0800

    Unconditionally restore pipe configuration
    
    This is a partial fix for #13196, which covers both leaving pipes disabled at
    server exit time and problems with restoring the pipe configuration on certain
    chipsets.  It restores the pipe configuration unconditionally (previously we
    made sure the PLL was running and we weren't in VGA mode) but also adds some
    additional PLL settle time to the PLL register write paths.

commit 4757a218d733af12d04674455fc6e1fad48a1cd0
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Tue Dec 18 19:37:46 2007 +0100

    Always set pPriv->buf to NULL after freeing the memory it pointed to.
    
    Fixes https://bugs.freedesktop.org/show_bug.cgi?id=13108 .

commit 5cbb4110116f6d4187fd27660a78203caa1da46b
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Dec 13 15:10:43 2007 -0500

    i830_sdvo_mode_valid: Fix return values to match what we actually check.

commit e03bc385e924222d3d5f3c9a8d65e1ef63b858dc
Author: Jesse Barnes <jbarnes@hobbes.virtuousgeek.org>
Date:   Tue Dec 11 13:28:01 2007 -0800

    Add cscope files to .gitignore

commit e720ae4476c3f986f623ce0f0ab9775b8b9b7e05
Author: Jesse Barnes <jbarnes@jbarnes-mobile.amr.corp.intel.com>
Date:   Mon Dec 10 13:00:14 2007 -0800

    CRT hotplug detection improvements
    
    Patch from Hong Liu.
    
    Fixup CRT detection by making sure the pipe is enabled before CRT
    detection actually occurs.  Fixes bugs Hong was seeing on G35 and other
    machines.

commit d9df93578b74785c08ba860b4c9aa23b0c89c91c
Author: Dave Airlie <airlied@linux.ie>
Date:   Mon Dec 10 16:41:24 2007 +1000

    ivch: fails on address mismatch as I seem to get this on my 865 system

commit cd6f83519c69f72f146fea59afbd6a3542da783a
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Mon Dec 10 05:49:58 2007 +0800

    Fix tv quirk for Dell Latitude X1
    
    which is actually 915GM, reported by
    Andreas Schildbach <andreas@schildbach.de>

commit 13ec9c8141a9f794258869a04a6bab59dac5eefa
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Sun Dec 9 00:52:13 2007 +0800

    exa: fix rendering issue on some 855GM laptops
    
    This trys to initialize more 3d states on i830 like mesa
    code, which fixes exa rendering failure for some 855GM users.

commit e2d9fd6425584119f28768d85c4b7d106ecf8742
Author: Jesse Barnes <jbarnes@hobbes.virtuousgeek.org>
Date:   Fri Dec 7 16:30:46 2007 -0800

    Describe output properties in more detail
    
    Add descriptions for LVDS and TV output properties and also mention the EDID
    property a new output configuration section.

commit 6f92200db39a790c95c1fac64baf0bd41a70e481
Author: Jesse Barnes <jbarnes@hobbes.virtuousgeek.org>
Date:   Wed Dec 5 08:10:17 2007 -0800

    Fix backlight setting save/restore
    
    We need to save the current backlight value at LVDS init time, as well as when
    we change the DPMS setting.  Also, since 0 is a valid backlight value, don't
    set the backlight value to maximum at startup if the value happens to be zero.
    
    These fixes should make the backlight user experience much more consistent and
    hopefully less frustrating.

commit 4c1fa5235555c9ef3de1eebd006c4e91283362bf
Author: Jesse Barnes <jbarnes@hobbes.virtuousgeek.org>
Date:   Tue Dec 4 18:27:24 2007 -0800

    Add BCM_ to backlight control method enums
    
    Avoids polluting the global namespace with such generic terms.

commit 30d74f1b1f30e751d2c47aa63a4a2043e71467dc
Author: Jesse Barnes <jbarnes@hobbes.virtuousgeek.org>
Date:   Tue Dec 4 18:23:44 2007 -0800

    Use "LEGACY" backlight method if backlight control is such
    
    This may regress the user experience a bit (fewer backlight levels) on machines
    where both the LBB and native registers work, but it's better that it work for
    everyone than work extra well for some and not at all for others.

commit 0e554e6dd4da56be24d2f971ff4cd4d585936724
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Dec 4 10:32:45 2007 -0800

    Remove extra have_libpciaccess=no that broke tools build with old servers.

commit 3cf862717688aa679b5e667cd041ddd6f5db0b58
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Thu Nov 29 23:12:16 2007 +0800

    xvmc: add "XvMC" option, default is false.

commit 6da4b7a80cdf730018435fe84485ecdad62bc860
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Thu Nov 29 22:56:13 2007 +0800

    xvmc: move batch buffer init/fini code into generic

commit 75ef3e669dac1259d282dcc8f54b197fc19f22b3
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Wed Nov 28 22:13:55 2007 +0800

    Replace ALLOCATE_LOCAL/DEALLOCATE_LOCAL with xalloc/xfree

commit df47b7ba57f3e7dc8bac1898679186d9d48639ac
Merge: df718a7... 7f9ceff...
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Tue Nov 27 01:13:43 2007 +0800

    Merge branch 'master' into xvmc

commit 7f9cefffbf44a2d07b51cc13aaf2d54fcd8f2f22
Author: Alan Hourihane <alanh@tungstengraphics.com>
Date:   Fri Nov 16 15:56:08 2007 +0000

    vendor is CARD8

commit df718a77c854c9110a81c2bc2a32a9aac85850f2
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Fri Nov 16 16:08:06 2007 +0800

    xvmc: add xvmc decoder type string

commit a03a758db0df615fbb44dae1ab6910bfeaeb54f9
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Fri Nov 16 15:49:10 2007 +0800

    xvmc: move some i915 context destroy code to generic function

commit 7bfbcb4dc7806ae7543f230373e67f35ba30668d
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Fri Nov 16 15:43:04 2007 +0800

    xvmc: clean batch buffer finish

commit a6e8f4ef0481c66fda4f22fcc4bb0ef9c000f0cd
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Fri Nov 16 13:51:44 2007 +0800

    xvmc: remove i915 drm map type

commit 4a2b0f340357c4ca58dc9586fad1337b83966362
Author: Jesse Barnes <jbarnes@hobbes.virtuousgeek.org>
Date:   Thu Nov 15 18:36:54 2007 -0800

    Fix typo in 1920x1080 resolution entry

commit 6c68fcc93917565712b6a9386df54d0204e4ea8f
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Fri Nov 16 10:04:46 2007 +0800

    xvmc: more i915 xvmc cleanups

commit 04b60b6d3436fb57163c23acf335364f0ea2f79c
Author: Jesse Barnes <jbarnes@hobbes.virtuousgeek.org>
Date:   Thu Nov 15 11:49:53 2007 -0800

    Bump version to 2.2.0

commit 6eecef4fed8a21dfdabef42eb69fd150b96167b2
Author: Jesse Barnes <jbarnes@hobbes.virtuousgeek.org>
Date:   Thu Nov 15 10:10:59 2007 -0800

    Adjust default TV out paramaters
    
    According to several users, a default brightness of 0 results in much better TV
    output.  Improved control of these parameters will be provided by Randr1.3,
    which will standardize several output properties across various chips.

commit 7552d80e367fe38bbc594fe94abd649917fe54d5
Author: Jesse Barnes <jbarnes@hobbes.virtuousgeek.org>
Date:   Thu Nov 15 10:07:34 2007 -0800

    Add 1920x1080 mode to TV out
    
    Allows users to use 1080p modes on TV out, see bug #13034.

commit e56c166ceb8c1ceddd5020e8de2d0b9d51f535a4
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Thu Nov 15 18:34:18 2007 +0800

    remove unnecessary i830_reg.h includes
    
    i830_reg.h only contains 3d engine cmds for 8XX chips.

commit 6f3de19159cd7a2d73ed212add909edb3aedce9c
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Thu Nov 15 18:33:27 2007 +0800

    Move fb compression reg definition into i810_reg.h
    
    where we put MMIO control reg in, and shared with intel_reg_dump
    program.

commit 1ff97991a4954d508cc260dda82b7678010d13c9
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Thu Nov 15 17:01:31 2007 +0800

    xvmc: intel_xvmc.c cleanups

commit 1cfdf192882b856bfc93b735cfb9cb813cac3fdb
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Thu Nov 15 16:38:21 2007 +0800

    xvmc: remove unused SAREAPTR macro

commit d9ea2fbdcce3c7c91428846eff43b65ac340f38d
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Thu Nov 15 15:25:35 2007 +0800

    xvmc: i915 rename files

commit 06c0579df8d45f7f04b96956353d5f86cf59148f
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Thu Nov 15 15:01:56 2007 +0800

    xvmc: some code clean up

commit 4983e3401390654098dbf99dcfb45bab060b068c
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Thu Nov 15 13:56:24 2007 +0800

    xvmc: move locking code into generic place

commit bcd656c8dfe7309a5cf02ce1da8bc747ccd6e21c
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Thu Nov 15 11:18:38 2007 +0800

    xvmc: oops, should first map batch buffer before init

commit 0464af581b0fcfc4d1c7fec8160d812262086177
Merge: 2256519... e56c166...
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Thu Nov 15 11:05:44 2007 +0800

    Merge branch 'master' into xvmc

commit 22565198b360826ba10e7ca05d272c419054dc08
Merge: 619044b... e64f492...
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Thu Nov 15 18:53:22 2007 +0800

    Merge branch 'master' into xvmc

commit e64f4929690a57701241334fbca17e95b39ba3d4
Author: Jesse Barnes <jesse.barnes@intel.com>
Date:   Wed Nov 14 16:44:34 2007 -0800

    Backlight fixes
    
    Open the "actual_brightness" file as read only, since we only read from it.
    Also set an initial backlight_duty_cycle at init time so we don't set the
    brightness to 0 at startup.

commit 53e3693ef13f31f3fc33bcff7286ab2b03b2d430
Author: Jesse Barnes <jbarnes@hobbes.virtuousgeek.org>
Date:   Wed Nov 14 16:24:56 2007 -0800

    Disable FBC by default on 965GM
    
    Several people have reported that they see frequent FBC related display
    corruption on 965GM, so disable it for now.  Users wanting to enable it can use
    the driver option "Framebuffercompression" to override the default.

commit b2726899bc6ebd108aa4a5dd66fe1d881bb778b3
Author: Jesse Barnes <jbarnes@hobbes.virtuousgeek.org>
Date:   Wed Nov 14 15:49:41 2007 -0800

    Add more FBC regs
    
    Needed for the new debug code

commit b7bc694c6b98dac17763426d905a22d3ae17a018
Author: Jesse Barnes <jbarnes@hobbes.virtuousgeek.org>
Date:   Wed Nov 14 15:46:57 2007 -0800

    Fix kernel get_brightness function
    
    We need to look at "actual_brightness" rather than "brightness".  The former
    contains the brightness value the kernel driver has actually set, while the
    latter is merely what the user requested.

commit 9ee96ed02aacd953ab58288fddf0fa60f60b668e
Author: Jesse Barnes <jbarnes@hobbes.virtuousgeek.org>
Date:   Wed Nov 14 15:44:56 2007 -0800

    Correct FBC debug message
    
    To be consistent, it should say 'plane' rather than 'pipe'.

commit 675b9471d84059496ca41d427a4f95d419f82be9
Author: Jesse Barnes <jbarnes@hobbes.virtuousgeek.org>
Date:   Wed Nov 14 15:17:05 2007 -0800

    Add FBC registers to register dump output
    
    Just for completeness.

commit a2a0821e74a61f53cc7f0c41ce629644ad712114
Author: Jesse Barnes <jbarnes@hobbes.virtuousgeek.org>
Date:   Wed Nov 14 11:30:20 2007 -0800

    Don't stop ring before restoring hw state
    
    Some of the hw state restoration callbacks may want to use the ring for various
    things like stopping video playback, so leave the ring enabled until we get
    back from RestoreHWState.  Also rename the functions so that their purpose is
    clearer and remove a couple of redundant lines.

commit 619044b242d4abf605b42cfff538b63f445fe709
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Thu Nov 15 02:23:07 2007 +0800

    xvmc: move batch buffer init/fini to intel_batchbuffer.c

commit ae805ac379ccfdae9ee272896665e73f5bc7d2cf
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Thu Nov 15 02:13:07 2007 +0800

    xvmc: take out batch buffer handling code

commit ad3bc0158d37e98fcbbe6a8e31413c142a260424
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Wed Nov 14 22:46:46 2007 +0800

    Don't enable fbc with XAA or tiling is off.
    
    This slightly reworks my last fbc patch. We don't
    support tiled front buffer with XAA now, so also
    disable fbc on it. If tiled alloc failed, disable
    fbc too.

commit 26194e19e1c80615697016e25640d4c8c244353f
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Tue Nov 13 22:26:40 2007 -0800

    Review PLL spreadsheet and update register ranges.
    
    The PLL spreadsheet makes the precise register ranges allowed for each mode
    quite clear, and shows a few inaccuracies in the b-spec. In particular, the
    N register value may range from 1 to 6 instead of 3 to 8. This should close
    the gap we've seen in the reachable frequencies.

commit 581509321e51becb8ee6ddcfaa15a2a713c9ef8e
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Wed Nov 14 22:16:04 2007 +0800

    Remove one redundant line.

commit 8cea3c8cfa86600b5f2c3e1f21c19d4b2a320fd4
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Wed Nov 14 22:13:30 2007 +0800

    Don't setup fb compression if fb is not tiling

commit 539b669d6e23833a917a9b0d3a355d4283e0b76a
Author: Jesse Barnes <jbarnes@hobbes.virtuousgeek.org>
Date:   Tue Nov 13 17:59:54 2007 -0800

    Remove harmless error message
    
    This really isn't an error in general.  If vblank pipe setup really fails for
    some reason, it'll be obvious enough when the user tries to use vblank events
    for something.
    
    Patch from Hong Liu.

commit e8db8584ae4860aa991c916126335b287a972d5b
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Wed Nov 14 00:11:20 2007 +0800

    xvmc: attempt to move batch buffer code out of i915 private

commit 11c0e0dbef42f1ae77a77d534870d3e9821fb017
Merge: c838f72... 43fbc54...
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Tue Nov 13 22:44:06 2007 +0800

    Merge branch 'master' into xvmc

commit 43fbc547786cf26514f95bce79fab58a66c291bf
Author: Jesse Barnes <jbarnes@jbarnes-mobile.amr.corp.intel.com>
Date:   Mon Nov 12 12:23:41 2007 -0800

    Improve backlight control
    
    This commit fixes backlight support for several platforms.
    
    Except on recent machines supporting the IGD OpRegion specification,
    backlight control is rather platform specific.  In some cases, we can
    program the native backlight control regsiters directly without any
    trouble.  On others, we need to use the legacy backlight control
    register.  On still others, we need a combination of the two.  And on
    some platforms, none of the above will work, so we go through the
    kernel backlight interface, which provides a platform specific driver
    for backlight control.

commit 10988c5e6ec0f3c40d56bbf209b7976627cca706
Author: Jesse Barnes <jbarnes@hobbes.virtuousgeek.org>
Date:   Mon Nov 12 09:19:22 2007 -0800

    Fix typo in PLL enable check
    
    Check against DPLL_A instead of DPLL_B before writing PIPEACONF.
    
    Thanks to Colin Guthrie for his sharp eyes.

commit ab2055ebb20aa6de121fa377e488ce91913035ae
Author: Jesse Barnes <jbarnes@nietzche.virtuousgeek.org>
Date:   Fri Nov 9 13:55:46 2007 -0800

    Add 'ret' variable to i830_allocator_init
    
    Needed in the XF86DRI_MM case.

commit 24280edbdf54e9559b26ea27c1b005eea73f51bc
Author: Jesse Barnes <jbarnes@nietzche.virtuousgeek.org>
Date:   Fri Nov 9 13:53:58 2007 -0800

    Fixup warnings
    
    Remove unused 'ret' variable, move pI830 under #ifdef XF86DRI_MM in
    i830_allocate_memory.

commit 4fe507957bf826d81a71cd63af17c5547d1023a1
Author: Jesse Barnes <jbarnes@nietzche.virtuousgeek.org>
Date:   Fri Nov 9 13:51:11 2007 -0800

    Remove unused 'palette_enable' variable

commit 62404a9c9c0d98efb69ac96209dea17331e0489c
Author: Jesse Barnes <jbarnes@hobbes.virtuousgeek.org>
Date:   Fri Nov 9 07:55:01 2007 -0800

    Update man page to reflect EXA by default

commit c838f7297f675ea9d82678ed37715955cb0a8a78
Merge: a9449ff... 6f53568...
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Fri Nov 9 19:37:07 2007 +0800

    Merge branch 'xvmc' of git+ssh://zhen@people.freedesktop.org/~zhen/xf86-video-intel into xvmc

commit a9449fff4be8e6b3cc82914376420e3a66b960f5
Merge: a470f6b... 177924e...
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Fri Nov 9 19:36:25 2007 +0800

    Merge branch 'master' into xvmc

commit 177924e879564b7e9e70fd607141978bfd053fff
Author: Jesse Barnes <jesse.barnes@intel.com>
Date:   Thu Nov 8 18:16:48 2007 -0800

    Bump driver version to 2.1.99 in preparation for 2.2 release

commit cb4e5796f0537ea5e0e646d473930c7b826c85d8
Author: Jesse Barnes <jesse.barnes@intel.com>
Date:   Thu Nov 8 18:13:47 2007 -0800

    Default to EXA
    
    If EXA is compiled into the driver, default to using it for acceleration.
    Hopefully we can remove XAA entirely one day.

commit 43a59ab26b09fcc24de1ed7bd770bb622f899ceb
Author: Jesse Barnes <jbarnes@hobbes.virtuousgeek.org>
Date:   Thu Nov 8 16:52:41 2007 -0800

    Clear current video crtc on DPMS off
    
    When calling the video DPMS off function, make sure we zero out the current
    crtc so that it will be properly re-set up next time video is turned on.
    
    Fix from Peter Clifton with changes by Keith Packard.

commit e784e152a8e84b6e447b55a5c7019e7b47e17621
Author: Jesse Barnes <jbarnes@hobbes.virtuousgeek.org>
Date:   Thu Nov 8 16:37:53 2007 -0800

    Fix overlay destination clamping
    
    The overlay width & height scaling clamp check was reversed.  Fix that and
    update the comment.

commit b8770f710729d616b3ac72544aa522161a78f819
Author: Jesse Barnes <jbarnes@hobbes.virtuousgeek.org>
Date:   Thu Nov 8 16:19:01 2007 -0800

    Setup 3D state at EnterVT time
    
    In the absence of full suspend/resume support in the kernel, we have to
    save/restore state in Enter/LeaveVT.  For 8xx chips, 3D state may be lost
    during suspend/resume, so re-emit the basic setup at EnterVT time.
    
    Patch from Peter Clifton.

commit 5f92b4c2db9712496b829ee239468e3d14e27d2f
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Nov 8 13:31:51 2007 -0800

    Bug #12059: Add ch7019 to the list of supported devices for ch7017.
    
    While I'm here, fix the chip description to be LVDS instead of TMDS in i2c
    device.

commit eecd3ccedee6c4acf101591f7e60673660379e62
Author: Jesse Barnes <jbarnes@hobbes.virtuousgeek.org>
Date:   Thu Nov 8 09:31:08 2007 -0800

    Check DPLL status before writing PIPEnCONF regs
    
    If the DPLL isn't enabled or is in VGA mode, writing the PIPEnCONF registers
    may cause a hang or crash.  So ensure the DPLL is in the proper state before
    writing them.
    
    Another excellent fix from Peter Clifton.

commit b434c1a437c407de88396b219560649c2dae82b2
Author: Jesse Barnes <jesse.barnes@intel.com>
Date:   Thu Nov 1 12:06:07 2007 -0700

    Framebuffer compression fix: front buffer may not be at fence 0
    
    Fix a long standing bug in the framebuffer compression code (thanks to
    Pierre Willenbrock!) that prevented FBC from working correctly if the front
    buffer was anywhere but fence register 0.

commit 50d3693a6862028e50bc5ba8c788e7ea573c3eb8
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Thu Nov 1 22:22:27 2007 +0800

    Fix allocation reset for really not free BO allocator

commit ecd995d533d28b622afc71a20504d47c33ff5b8d
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Tue Oct 30 18:20:49 2007 -0700

    Fix builds without DRI

commit 7c88b58a93fce9fda59b6344acb87af16336e287
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Tue Oct 30 18:20:15 2007 -0700

    Clear compiler error: "void functions cannot return values"

commit a470f6b2ca291e305979dd9223885a50dc0b334b
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Fri Oct 26 22:40:47 2007 +0800

    try to move some fields to xvmc driver structure
    
    Still a lot of things to move include batch buffer, lock, context,
    surface resource handling, etc.

commit 6f53568cd2aeeec6bd8c1f1d9f9c5ecadc5c62f9
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Fri Oct 26 14:58:43 2007 +0800

    Fix DRI context creation for XvMC

commit d2c78f82c20f33fc9c22cab8a7ca161e57a34bf8
Author: Thomas Hellstrom <thomas-at-tungstengraphics-dot-com>
Date:   Wed Oct 24 19:34:12 2007 +0200

    Adapt to DRM Lockfree and setStatus changes.

commit 78aaec0ffc711742bf8ad77757ed8c15cc3f7a9f
Author: Eric Anholt <eric@anholt.net>
Date:   Wed Oct 24 11:50:54 2007 -0700

    Fix typo in my hand-application of rglowery's patch.

commit 021265fbec9fd4ee31bdc9767c0c0453479ea22c
Author: Rob <rglowery@exemail.com.au>
Date:   Wed Oct 24 11:06:53 2007 -0700

    Fix a crash in TV mode handling by initializing the prev field of modes.

commit ce9802edd25255f6c9c11e512b2ef905384b914d
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Wed Oct 24 00:31:53 2007 +0800

    fix xvmc return values
    
    Use values defined by xvmc lib spec

commit 9c84543eb0fde4643eb7529eb6b08eacf57c12d0
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Tue Oct 23 22:16:55 2007 +0800

    add missing license header for new files

commit 87345e820d20f1a98216c52e156c2e18c15ffa44
Author: Jesse Barnes <jesse.barnes@intel.com>
Date:   Mon Oct 22 14:22:37 2007 -0700

    intel_reg_dumper - dump VGA AR registers too
    
    Add a VGA AR dumping function so we can debug text mode problems too.

commit 90e4eafdf59edd966ed626107c3909b24737da8d
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Mon Oct 22 17:09:15 2007 +0800

    revert xvmc memory allocation hacks

commit 167c56bcf82f0a6d72151b202e6d56f6e0d627f6
Merge: fc9368c... 78e251d...
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Tue Oct 23 00:12:22 2007 +0800

    Merge branch 'master' into xvmc

commit fc9368ce7dacd52ef222559d20188ddcf2a85df5
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Tue Oct 23 00:09:06 2007 +0800

    split xvmc user lib chipset drivers

commit 78e251db671e21bc859c9b505d391b70babee2dc
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Oct 19 15:04:10 2007 -0700

    In the clock graph, draw the VCO as erasures in the lines representing clocks.
    
    This shows one of the reasons for the gaps: with the other settings, the VCO
    is too low inside the gap.  However, it also points out another issue: we
    aren't using the high end of the VCO range due to some other limits being hit.

commit 9f9b888525b274036d301d6e06351583d0415f9e
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Oct 18 11:25:24 2007 -0700

    Warn in the log if we choose a PLL clock that's way out of line.

commit 1f8bf110394cc1df66aae9acf5c818145ae19b52
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Oct 18 11:17:38 2007 -0700

    Add some nickle scripts for looking at PLL issues.
    
    While here, move similar nickle scripts under src/scripts/

commit 79636b8c776ae024518103c9fa137c8498c21d48
Author: Eric Anholt <eric@anholt.net>
Date:   Wed Oct 17 17:10:24 2007 -0700

    Bump pciaccess version requirement for  new API usage.

commit c824c45e72908b5b3fa832fec91c7b47f305180c
Author: Dave Airlie <airlied@optimus.(none)>
Date:   Wed Oct 17 16:35:29 2007 +1000

    intel: make block handler hook happen no matter what video is in use
    
    This shouldn't make a difference now, but for upcoming EXA/batch changes it
    will be more useful

commit aa88d23e615e7f154cf850927a0a7bb9fbb0d2f9
Author: Rob <rglowery@exemail.com.au>
Date:   Wed Oct 17 09:19:19 2007 +0800

    AOpen 965GM mini pc has no LVDS

commit 38900f55e2b50ea383f78adb016e3a02c3bd17ad
Author: Kyle McMartin <kyle@freedesktop.org>
Date:   Tue Oct 16 16:38:28 2007 -0400

    toshiba satellite u300 has no tv out

commit 74ac5de14ebb77aeb39d698e9e8d188c9d9abd76
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Tue Oct 16 15:08:26 2007 +0200

    Adapt to libdrm buffer object API changes.

commit d66e924680a3504aa1feb9c228145a95d1a16b1e
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Oct 15 11:31:51 2007 -0700

    In update_front_offset(), set pScrn->fbOffset even at EnterVT during init.
    
    Failure to do so led to the memset() at EnterVT being done to an invalid
    offset.

commit cc892d1ba1d87d08bdd04f857efc6b8f64620018
Merge: b52ce0b... fd97edb...
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Mon Oct 15 22:09:14 2007 +0800

    Merge branch 'xvmc' of git+ssh://zhen@people.freedesktop.org/~zhen/xf86-video-intel into xvmc

commit c94cdfd6ddbc580523737f596e97b96a7ce100b9
Author: Jesse Barnes <jbarnes@jbarnes-mobile.amr.corp.intel.com>
Date:   Sat Oct 13 15:57:45 2007 -0700

    Fix palette save/restore
    
    When restoring the palette, we weren't checking to make sure the
    associated pipe was enabled before writing the registers.  In some
    configurations, this led to a driver crash.  Add new routines to handle
    palette save/restore and verify that the pipes are on before we touch
    the registers (could easily be changed to enable/disable the pipes
    around the save/restore as well).

commit e04333a6352040bc883655d606923c912d005981
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Oct 12 12:42:45 2007 -0700

    Fix failure in tiling setup on non-power-of-two allocations on pre-965.

commit a1612b7728d4153499fe86b6713a13c8702cc7d9
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Oct 12 12:42:06 2007 -0700

    Use mprotect on unbound AGP memory to attempt to catch use while unbound.
    
    This doesn't help with the most common use-while-unbound cases, which are
    from the hardware side.

commit 3af442ba52550a9d183e215d49cc12dac0cb9e4b
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Oct 11 11:56:06 2007 -0700

    Don't double-free the memory manager allocation.

commit 6c485ff5bd25e9aa6a3c1eb669843e6b969d94df
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Oct 5 15:52:56 2007 -0700

    Update memory manager sizing for the current set of LIFETIME_FIXED bufffers.

commit d47cf148776d74f9035863b23eefdc2b5893af08
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Oct 5 15:45:51 2007 -0700

    Move tiling fence register setup to bind time instead of allocate time.
    
    This allows us to allocate tiled buffers in buffer objects.  In the process
    I removed the fence division that we had for tiled buffers on pre-965.  If we
    resurrect that code, it should probably be managed by just dividing all the
    objects in roughly half and fencing those halves (to reduce the alignment
    requirement), instead of using giant fences until we run out of space and then
    trying to deal with scarce space on the last (or not) buffer.  Halving
    our tiled objects would use 6/8 of our fence registers on that hardware.

commit a6dc81a0864f9ab2f6fc1aa31002c0191f674ceb
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Oct 5 12:37:19 2007 -0700

    Allow front/back/depth to move over the lifetime of the server.

commit 132dce7565feeea1055899f8c1627766fe84c88c
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Oct 5 12:12:06 2007 -0700

    Delay SAREA and mapping setup until EnterVT when using the memory manager.
    
    Otherwise, we would use uninitialized offsets in the early setup.

commit 4ca3550fb7d488741f8dc1ba3c8722393277c3b8
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Oct 4 17:02:15 2007 -0700

    Rework DRI buffer mappings and sarea setup to allow for moving buffers.
    
    While this has been a desired feature for some time, to allow for reallocation
    of the front buffer, it was made more necessary by the desire to avoid
    requiring a NO_MOVE buffer type in TTM because buffer objects may not be left
    pinned over VT switch.  This is a step towards making those buffers
    movable and resizable.

commit f393a12d21eed668cf4771f022beded9a4c547c7
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Oct 4 13:03:14 2007 -0700

    Move drmMMLock to after we have unbound our (pinned) buffers.
    
    There are still issues due to the fact that we're allocating
    NEED_LIFETIME_FIXED memory as buffer objects, which we refuse to unpin because
    we have no way of pinning it back in the same location.

commit 8fc4e3078210f726c7c375faa2f2fd8d05017c09
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Oct 5 11:51:55 2007 -0700

    Refuse to allocate LIFETIME_FIXED objects in buffer objects.
    
    We can't guarantee the offset will stay the same using the current DRM
    interface, but the correct solution is fixing our code to allow these objects
    to move.  Breaks TTM mode of the DRI driver for now.

commit 0de747f7d219a56434dad49a8a6d1d9d4c251ca7
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Oct 11 10:36:01 2007 -0700

    In i830_allocate_memory_bo, bind if we control the VT, not on lifetime-fixed.

commit 0040bb95445e800af80ca9fa1b92f5db33f1b4ac
Author: Eric Anholt <eric@anholt.net>
Date:   Wed Oct 10 16:48:12 2007 -0700

    Fix potential use-after-free in XV overlay code on video stop.

commit 56ae767180da4a8bd4b7a4c35b92e019ab67d753
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Thu Oct 11 10:09:29 2007 +0800

    Revert "Fix G33 GTT stolen mem range"
    
    This reverts commit 2a8592f2ebcba86b1127aa889155d58a3dc186ca.
    
    This causes compat issue between ddx and kernel apggart version.
    Revert it as it shouldn't hurt normal people's default GTT size,
    but if you change it to 1MB in bios, it's supposed to be broken now.

commit 5faee02e97b7543b41bb1f8e3751558c48802833
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Wed Oct 10 13:55:30 2007 +0800

    EXA: fix tiled dest rendering on i8XX chips

commit 5bbe9f09fda1238da04e6b584813d40fc646f49d
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Wed Oct 3 00:18:25 2007 -0700

    Include xf86mm.h if using XF86DRI_MM
    
    This header file doesn't appear to be getting automatically included for
    some reason.

commit 41dacf97ec1d4ba6f54057f4fcc7bb76033a454e
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Wed Oct 3 00:17:41 2007 -0700

    Quirk for Samsung Q35 which has no TV output.

commit b52ce0bd178c268d20334e2be8fad46037e47499
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Mon Oct 8 22:56:44 2007 +0800

    use field name to initialize i915 xvmc driver

commit e0fb228401b10ea4281eee48497bf1d584999705
Merge: 84d7b2b... 9e770bf...
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Mon Oct 8 22:45:11 2007 +0800

    Merge branch 'master' into xvmc
    
    Conflicts:
    
    	src/i830_driver.c

commit fd97edb62463e50a1860290d54684a68d5490bdc
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Mon Oct 8 16:13:26 2007 +0800

    move some definition out of i915 specific header

commit 3a2b5222341b37322b788e329c2b9006dc14ecfd
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Mon Oct 8 15:46:11 2007 +0800

    Temp work around ttm allocation for xvmc, which should be fixed later.

commit 9e770bf69edaa8944048049e11266dbe1ef145e5
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Oct 4 14:31:37 2007 -0700

    Replace setting of LIFETIME_FIXED on cursors with just updating the offsets.

commit c9d6e90c2523096c45d330552f471e6bf1752704
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Oct 4 14:27:07 2007 -0700

    Don't set overlay registers LIFETIME_FIXED. It always uses the current offset.

commit 1cc6bec4628a4ca04a68919a84148a1e6312072f
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Oct 4 14:23:48 2007 -0700

    Revert setting of exa_965_state as LIFETIME_FIXED.
    
    The current offset is used every time in render setup.

commit dfa22df8ce7713b491c4766ce6ce652db91b5f90
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Oct 5 12:53:07 2007 -0700

    Don't leak buffer object allocations in i830_reset_allocations().

commit 7db9d706a1bc9da7afc4823cee92b23e96ae55b8
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Oct 5 12:40:48 2007 -0700

    Warning cleanup.

commit bf33c4e2d91172efd08690fadda7b3743dd3de62
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Oct 5 12:40:37 2007 -0700

    Fix formatting of error message.

commit 04e936935f0b0045600241424f1d04a6721a2432
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Oct 1 17:29:35 2007 -0700

    Bring the CH7017 driver closer to spec.
    
    This is also closer to what my hardware is programmed with, except for some
    very confusing off-by-one bugs in an unexpected direction.

commit 263d48ad93a0fb7100729d0c6e0443797c20c80a
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Oct 1 16:23:30 2007 -0700

    Fix probing of the sample CH7017 device I found by allowing GPIO overrides.
    
    It may be that the LVDS chips need to be DVOA and GPIOB only on mobility
    devices with them, and DVOC/GPIOE on non-mobility like this 845.  But until
    more examples are found, just make this one device probe.

commit 219354af212c7b68c20df689692c55331e36a705
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Oct 1 16:09:13 2007 -0700

    Restore building of pciaccess-based tools even if the server doesn't use it.

commit 1b83e5e589105d05c1b78032fa47eecee478cb99
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Oct 1 14:32:28 2007 -0700

    Remove more DVO probing noise.

commit 29d3188ee9676f697f6fcb859c7f680f5df30318
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Oct 1 13:45:09 2007 -0700

    Suppress I2C failure error messages during DVO device detection.
    
    Otherwise, errors would be printed for every chip probed which wasn't present
    on the system.

commit 6dd8228a386334d05836353672aae9f8c456e435
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Oct 1 12:07:22 2007 -0700

    Enable CH7017/7018 DVO driver by default.
    
    On hardware containing one of these chips (generally single pipe with an LVDS
    connected), it's probably better to try to enable it and fail in some cases
    than to not probe the output at all.

commit 994ee6721d9f1650ad37e21198b86848352b73af
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Oct 1 12:01:16 2007 -0700

    Disable TV/VGA output on the CH7017/7018 devices.
    
    We don't support those outputs on this chip yet, so turn them off if the BIOS
    had set them on.

commit 0e5574e842eeaac75271ccd50027d3e54c57722d
Author: Regis Prevot <regis@myrix.net>
Date:   Sat Sep 29 16:21:08 2007 +0200

    Ignore detection of TV output on Panasonic CF-Y7

commit 84d7b2b955107264b67526a04028a8b79d8804e3
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Sat Sep 29 19:41:15 2007 +0800

    rename xvmc init function names

commit 1845e7c6e9caf7a9ad7f46a8fbfa321ddec69a1e
Author: Jesse Barnes <jesse.barnes@intel.com>
Date:   Fri Sep 28 10:12:11 2007 -0700

    Go back to using old drm_i915_flip_t field name
    
    This field shouldn't have been renamed in the first place.  Go back to using
    the old name so that the tree is backward and forward compatible again.

commit f3d92ab474de11babe507b0e3c15aca146b6cb66
Author: Kyle McMartin <kyle@freedesktop.org>
Date:   Fri Sep 28 10:17:55 2007 -0400

    Dell XPS 1330 has no TV out

commit bbf69c7446aa9748dacecccfe0b63d803f865b00
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Thu Sep 27 17:37:19 2007 +0800

    Pin cursor, overlay(no physical) and exa state buffers
    
    And cursor mem counting for dri mem manager is not relate
    to overlay.

commit 64188246bb25e95a916ebb8a50a09298e56d91d9
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Wed Sep 26 15:48:19 2007 +0800

    clean up old i915 xvmc function declare

commit 320b7f08f457455f1d16b4c36d149bdc3f6ceead
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Wed Sep 26 15:02:33 2007 +0800

    Revert to origin xvmc setup steps
    
    We have to grab xvadaptor's PutImage earlier than
    xv init, otherwise no chance to do that..

commit 1e0ff38f44e3b5a8b4a5d509c7faa266270d522c
Author: Hong Liu <hong.liu@intel.com>
Date:   Thu Sep 20 11:28:52 2007 +0800

    Fix pixmap offset
    
    Use consistent interface for counting pixmap offset.

commit 85e4bd109464a4d90856e17bc960872eeaebc2ad
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Wed Sep 26 14:32:46 2007 +0800

    Log xvmc driver name

commit e58b76a24a29e0a502650807de81e650e5dc184d
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Wed Sep 26 14:40:04 2007 +0800

    clean up err report
    
    Still need to clean up return value for XvMC API

commit b10a9668dc50d10489b2ae531d89c8ab7c408170
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Wed Sep 26 14:01:57 2007 +0800

    fix i915 xvmc devPrivate reference

commit f12eaaf385e7a0b85524588a5d865d1cc3f1a0cf
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Wed Sep 26 13:49:55 2007 +0800

    comment out i965_xvmc_driver for now

commit 513e8a2f8abde1b11b8058e94a650796fd51779b
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Wed Sep 26 13:45:42 2007 +0800

    Create xvmc driver interface
    
    convert i915 to new xvmc driver interface

commit ca67fa767dc762dac369e84b27a7ef15673d527c
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Sep 24 11:12:22 2007 -0700

    Remove logic for supporting i915tex_dri.so vs. i915_dri.so.
    
    There can be only one.

commit 130f79613bfe6a8cfa7f431c8cce06cbb93cc91a
Merge: b73235f... 1260316...
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Sep 21 17:14:44 2007 -0700

    Merge branch 'buffer-objects'
    
    This branch changes i830_memory.c's allocator to use TTM when available to
    allocate memory, which also allows TTM to control almost the entire aperture.
    As a result, our front/back/depth buffers are created as real buffer objects,
    which may be used by the DRI driver instead of the fake buffer type in TTM.
    The updated DRM with bo_set_pin ioctl is required, to allow us to pin and
    unpin our buffers as needed.

commit 126031655c3c1db9881ad17d712461533eb59632
Merge: c343835... bda3c69...
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Sep 20 08:57:58 2007 -0700

    Merge remote branch 'origin/master' into buffer-objects
    
    Conflicts:
    
    	src/i830.h
    	src/i830_driver.c

commit b73235f40497cfb10792ba191d4f6eac3a5df009
Author: Hong Liu <hong.liu@intel.com>
Date:   Thu Sep 20 11:28:52 2007 +0800

    Fix pixmap offset
    
    Use consistent interface for counting pixmap offset.

commit 798448e4641acf241b7cbae0d6c243ae383da9f4
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Wed Sep 19 13:29:31 2007 +0800

    Add media state definition on i965
    
    This adds VFE state and interface descriptor struct define.

commit 36b81ba20d20e7b235cb701c5135cbf3f3eedb12
Merge: 02ad9ce... bda3c69...
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Wed Sep 19 11:44:41 2007 +0800

    Merge branch 'master' into xvmc-i915
    
    Conflicts:
    
    	src/i830.h
    	src/i830_memory.c

commit bda3c69a7a044869ea63514b97f8aa9260d6b5a7
Author: Dmitry Babrovich <dmitry.babrovich@densitrongaming.com>
Date:   Tue Sep 18 09:34:34 2007 -0700

    Bug #12457: Let the ch7xxx driver probe the 7301
    
    Looking at the 7304, this chipset likely requires slightly different
    programming.  However, this change allows for at least some functionality.

commit 445a59d262b93bd9d2c16cee9934ce77a103776b
Author: Jesse Barnes <jesse.barnes@intel.com>
Date:   Wed Sep 12 09:32:41 2007 -0700

    Remove unused plane->pipe mappings from SAREA private
    
    Turns out we can get away without this, so remove it, fix a crash, and only
    swap planes/pipes if the DRM can support it.

commit d02336290bea30de3c390b8121046c38fd6b0f62
Author: Jesse Barnes <jbarnes@nietzche.virtuousgeek.org>
Date:   Tue Sep 11 04:28:14 2007 -0700

    Fix plane/pipe mapping compat code
    
    Move plane->pipe mapping adjustment to ScreenInit so we can check
    against the DRM driver version accurately.

commit d9f2b3c0d2d08a4b7fad865dab7deb6224b57999
Author: Jesse Barnes <jbarnes@nietzche.virtuousgeek.org>
Date:   Mon Sep 10 23:49:34 2007 -0700

    Fix crash in ScreenInit
    
    Use pScreen directly when getting at the SAREA private, since
    pScrn->pScreen may not be initialized yet.

commit 4c7542ef43a5267e470ca1608a2ae57abf9783ec
Author: Jesse Barnes <jesse.barnes@intel.com>
Date:   Mon Sep 10 23:30:50 2007 -0700

    Only swap planes and pipes if DRM supports it
    
    We want to associate plane A with pipe B on pre-965 mobile chips, since that's
    the only way to get framebuffer compression on the builtin LVDS on those
    platforms.  However, if we do this swapping and DRM isn't aware of it, we may
    end up requesting vblank events for the wrong pipe, or setting up SAREA buffer
    swap state incorrectly.
    
    This mod checks whether DRM supports the new plane->pipe swapping behavior, and
    only enables the swapping if so.  This should fix the bugs Lukas found and
    debugged.  Reviewed by Michel Danzer.

commit 286f5df0b62f571cbb4dbf120679d3af029b8775
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Thu Sep 6 14:31:55 2007 -0700

    Switch to pci_device_map_range/pci_device_unmap_range APIs.
    
    With the libpciaccess change that added these new APIs, use them
    for all mapping.

commit 2a8592f2ebcba86b1127aa889155d58a3dc186ca
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Wed Sep 5 14:52:56 2007 +0800

    Fix G33 GTT stolen mem range
    
    G33 GTT table lives in seperate stolen mem with
    graphics data stolen mem.

commit 7fd9a98178cdebda4213796fdc452a8a265a1197
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Tue Aug 28 16:00:01 2007 -0700

    Don't set supported TV formats until after RandR initialized.
    
    The TV format property cannot be configured until RandR has been
    initialized.

commit c6e637cd683dc60567b3b4f69b7f2b4c338c89ea
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Tue Aug 28 12:17:15 2007 -0700

    Limit TV formats to those supported by current connection

commit ddd6053987b9ca9bd3722ddbdfd412a3d8d252cf
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Tue Aug 28 12:30:46 2007 -0700

    Add register defines for hw binning

commit 3fbbd0afde49c53a5a8661f75c8c8c4be3020c30
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Tue Aug 28 17:48:20 2007 +0200

    Fix build against pre-pci-rework xserver.

commit 0fdbf64b34e4114c2b89d696b268b9c7464f1efd
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Tue Aug 28 21:56:21 2007 +0800

    Fix i915 a8 color buffer blending
    
    From spec, i915 engine uses green channel when reading from 8bit
    color buffer for blending, and also writes back green channel.
    Fix blend factor in dest alpha case by using dest color instead.
    Now rendercheck can pass a8 tests.

commit 3411eb0dbae470b910af3116a4ab960c821b9b20
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Sun Aug 26 23:09:01 2007 -0700

    i830_driver.c changes for libpciaccess.
    
    Change to use libpciaccess APIs, including computing and using BAR indices
    for various mapping activities.

commit 387fed6daa7426e4a85d30ba7cf608b5f41d24bb
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Sun Aug 26 23:06:57 2007 -0700

    i810_driver.c changes for libpciaccess.
    
    This includes new probe code (intel_pci_probe) and changes for i810 to
    use BAR indices to refer to suitable portions of the device mappings.

commit 2c794192052ca55c3263e27e13d16aafe8caa92c
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Sun Aug 26 22:46:19 2007 -0700

    Mechanical API conversions for libpciaccess.
    
    Uncomplicated API transistions for libpciaccess usage:
    
    	Legacy xf86 API		libpciaccess API
    	---------------		----------------
    	xf86ReadPciBIOS 	pci_device_read_rom
    	pciReadWord 		pci_device_cfg_read_u16
    	pciWriteByte 		pci_device_cfg_write_u8
    
    And, more use of the API-independent DEVICE_ID/SUBVENDOR_ID/SUBSYS_ID macros
    to pull PCI identification data from the underlying structure.

commit 70e8e5957200401474967a467663ae049e9080f2
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Sun Aug 26 22:40:25 2007 -0700

    Change DRI interface to fill in PCI data from new libpciaccess structure.
    
    The DRI interface requires bus identification for each DRI object; pull that
    data from the libpciaccess structures as necessary.

commit 5516cc781bd488c936af225123812a61ed5874b8
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Sun Aug 26 22:37:38 2007 -0700

    Add libpciaccess declarations to I810Rec and I830Rec.
    
    Using libpciaccess requires a different type for PciInfo (struct pci_device
    instead of pciVideoPtr) and it requires knowing which BAR each memory region
    needs to be mapped from. Add these definitions to the driver private record
    along with the includes necessary to use libpciaccess.

commit daada59b5f8c2294b524a4b5920dc6b1c213642f
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Sun Aug 26 22:32:39 2007 -0700

    Change IS_Ixxx tests to work with or without libpciaccess.
    
    libpciaccess has a new structure that holds the PCI identifier data; borrow
    macros from the mga driver to work with either the old xf86-specific
    structure or the new libpciaccess structure.

commit 3d3bf493a3973f4067433d27a4d7ddfecaa18f1c
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Sun Aug 26 22:27:34 2007 -0700

    Intel driver configuration (only) changes for X server libpciaccess usage.
    
    Detect whether the target X server uses libpciaccess, using it in the driver
    compilation as necessary. This change means that utilities that used to use
    libpciaccess will not do so unless the driver itself uses libpciaccess. Yes,
    that could be fixed, but it doesn't seem that important.
    
    This patch does not include any code changes necessary to actually have the
    driver build against an X server using libpciaccess.

commit 5faf9cc6afe1c30fa88bc6446088a6fa47fc5d0b
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Sun Aug 26 09:34:06 2007 -0700

    Sort quirk table, add Dell Latitude X1

commit a9e1d42a47cef79d8bbde2afd89d26aed964e344
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Sat Aug 25 12:54:11 2007 -0700

    Lenovo 201a is x60s, not x61s

commit ffc2907f7f2eb039004eff0014c5563a01463fb0
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Sat Aug 25 12:31:21 2007 -0700

    Thinkpad X61s has no TV out

commit 0c20fbabd18c19b2753cb60280f89e240ce5645f
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Fri Aug 17 22:21:47 2007 -0700

    Make sure XV_PIPE is used whenever possible.
    
    The code was not consistently using XV_PIPE when the desired crtc contained
    any portion of the video output.

commit e443f83dd6f110156743c93f7d793cdddb8195a1
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Aug 17 18:13:49 2007 -0700

    Tune acceleration architecture allocator sizes down.

commit bd874b11bbfe582aebd3115771f90807e75afc31
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Aug 17 17:49:21 2007 -0700

    Replace AA allocator usage with i830_memory.c for RandR rotation.
    
    This requires EXA 2.2 (server 1.3) for rotated performance with EXA, because
    the i830_memory.c allocation may not fall within what EXA considers the
    offscreen area, so the PixmapIsOffscreen hook is needed.

commit 9ad33dd65a79277ef75a6e95373614852725f5a9
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Aug 17 16:46:48 2007 -0700

    Use i830_memory.c instead of the AA's allocator for XV buffers.
    
    This should fix issues with XV being allocated into XAA's tiled pixmap
    cache and resulting bad rendering.  Its also brings us closer to being able
    to shrink the size of the pixmap cache on XAA, which is of limited utility.

commit 3655a1ecb62f6c387a16fa87cf6f00bf7835dce4
Merge: e5c336e... 2231cdc...
Author: Jesse Barnes <jbarnes@nietzche.virtuousgeek.org>
Date:   Thu Aug 16 12:04:20 2007 -0700

    Merge branch 'master' of ssh://git.freedesktop.org/git/xorg/driver/xf86-video-intel

commit e5c336eaa32be8f9379a2c1dd51006b85bc8b270
Author: Jesse Barnes <jbarnes@nietzche.virtuousgeek.org>
Date:   Thu Aug 16 12:04:02 2007 -0700

    Disambiguate plane and pipe mapping, use plane A on pipe B on pre-965 LVDS
    
    Add a new 'plane' field to the intel_crtc private structure for tracking
    planes separate from pipes.  This allows pre-965 chips to use plane A
    on pipe B, enabling framebuffer compression for builtin LVDS displays.

commit c3438356d6b7b63ad9d0086efb084be8e048980e
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Aug 16 11:34:02 2007 -0700

    Add tiling information to BO layout description.

commit 0c9e4aeea84e20a18e3b76d8cf8e802af004df57
Merge: 79d9a30... 2231cdc...
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Aug 16 11:30:16 2007 -0700

    Merge branch 'master' into buffer-objects
    
    Conflicts:
    
    	src/i830_dri.c
    	src/i830_memory.c

commit 2231cdcd8f1ee81b3e59cc5e3a325c22ee0f40e4
Author: Dave Airlie <airlied@redhat.com>
Date:   Thu Aug 16 17:15:54 2007 +1000

    i915: add support for render to a8

commit a69db6f7fe1703b473e5c1d1e0088ccc203f4d5a
Author: Dave Airlie <airlied@redhat.com>
Date:   Wed Aug 15 18:28:50 2007 +1000

    intel: don't setup texOffsetStart unless using EXA

commit 5126a71f82767b9e23cd590453718f3364789740
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Tue Aug 14 13:54:55 2007 +0800

    Fix seg fault introduced in tiling patch when TV detect
    
    When TV does load detect, fb hasn't been setup, so we should check
    that in i830_display_tiled(). Caught by Nanhai.

commit d9f89a1af7e7ff4056727060cdf2e35c15a4dcdd
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Fri Aug 10 17:59:33 2007 -0700

    Save/restore tile-mode offset registers DSPATILEOFF and DSPBTILEOFF
    
    Now that the driver sets these registers, they must be saved and restored.

commit 5bc194d3d3c87bb0128d9ac10f090f031345eb37
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Fri Aug 10 17:54:32 2007 -0700

    Set DSPATILEOFF/DSPBTILEOFF to handle 965 tiled frame buffers.
    
    DSPATILEOFF and DSPBTILEOFF replace DSPASURF and DSPBSURF when the frame
    buffer is in tiled mode.

commit 64b943c79cf957a4c54482720195d7f27b7f0c0d
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Aug 10 15:48:05 2007 -0700

    Add #if 0-ed fence debugging code.  It's noisy, and of little use to most.

commit ba9a503ba2099025e393f3382bb453985ef23497
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Aug 10 15:06:58 2007 -0700

    Don't force tiling on if it is disabled in configuration but fbc is possible.

commit b7751c7d1d6bcf310824295c3bab4ff36760c791
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Aug 10 17:42:09 2007 -0700

    Fix stack-smashing in the last commit.

commit cb36635a053d4ac3971fea05060d31dbd3d382d2
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Aug 10 14:16:59 2007 -0700

    Attempt to fix several front buffer tiling failure cases.
    
    Front buffer tiling is now disabled with G965 and XAA.  Some of the acceleration
    that i830_xaa.c does can't be supported on tiled buffers.
    
    Adds a tiling field to struct i830_memory, and uses it instead of separate
    variables for each potential tiled buffer.

commit ed1b106fabf3a18489bdb3083326f27387a9cb72
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Fri Aug 10 14:31:16 2007 -0700

    Clean up tv mode name allocation and copy.
    
    TV mode names used to contain the signalling standard along with the pixel
    size. The signalling has been moved to the TV_FORMAT property, but the
    allocation and initialization of the mode name was left a bit messy as a
    result.

commit f71b9358b4157a8cfdc694ddef8ca3f98926ca91
Author: Jesse Barnes <jesse.barnes@intel.com>
Date:   Fri Aug 10 15:53:04 2007 -0400

    Cleanup tiling and FBC driver output.
    
    Remove an extra "FBC enabled" message from i830_memory.c (only report errors
    if they occur), and don't print the "forcing FBC on" message if tiling was
    already enabled, as it's redundant and confusing.

commit e6746d0f286ef9d9a87f748d40e5421c268f2f7d
Author: Jesse Barnes <jesse.barnes@intel.com>
Date:   Fri Aug 10 15:48:15 2007 -0400

    Enable tiling by default on 965.

commit e0fcf645a228094620b8f7fdd580963611bdd6ef
Author: Jesse Barnes <jesse.barnes@intel.com>
Date:   Fri Aug 10 15:43:06 2007 -0400

    Tiling fixes for 965
    
    This should be close to the last set of tiling fixes for 965 chipsets.
    Prior to this commit, the 965 composite hook didn't take tiling into
    account, nor did 965 textured video, which caused display corruption.
    However, there seems to be at least one last bug to squash--on occasion,
    a configuration with tiling enabled won't properly display text.  This
    is likely another tiling related problem with the composite hook.

commit 02ad9cee330fb5fb0008ad6f74e74e8d8a1fc36e
Merge: 105f8a1... 7b143e5...
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Fri Aug 10 16:45:56 2007 +0800

    Merge branch 'master' into xvmc-i915

commit 105f8a183eb64623d9a9e2833dbe27156a551f69
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Fri Aug 10 16:44:46 2007 +0800

    disable subpicture initial
    
    until we really implement it, OSD can't work for now.

commit 7b143e5c8397da077c0e02455c21c5a99cf50942
Author: Dave Airlie <airlied@redhat.com>
Date:   Thu Aug 9 12:14:44 2007 +1000

    i965: increase composite vertex buffer size and alignment to be safe

commit 14691b24da5aa29d8c41ac7b7c61828e3cd9eab7
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Aug 9 09:41:32 2007 +1000

    i965: fix memcpy of the sf_kernel when a mask is needed

commit 5e18c6af9051da654d2a6a97553ef4fe777bb61e
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Aug 8 11:13:37 2007 -0700

    Allow 965 composite acceleration to A8 destinations.
    
    Note that this is a slowdown in text rendering due to the high overhead of our
    compositing setup, but appears to be correct according to rendercheck.

commit b0ec670cdb0b6ca6fc0f4f165fa3ee5a20d7c985
Author: Eric Anholt <eric@anholt.net>
Date:   Wed Aug 8 11:03:51 2007 -0700

    Bug #11593: Remove dead struct vch_bdb_20 which was angering the sun compiler.

commit 87cc72ef509b85635bf0e84c47dfed6b7242170b
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Wed Aug 8 09:39:55 2007 +0800

    check early if we have slot left for new context or surface

commit fec6744b763f2b85b4e592c51326b9ee979bef5d
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Wed Aug 8 09:26:10 2007 +0800

    I missed to remove port attributes wrapper

commit 76c084d41999f13497b80d4ac6799cb974adaa03
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Wed Aug 8 09:22:42 2007 +0800

    explicit say "unsigned int"

commit cfc614b1f9143ed1407733aaa81c4a980c613a63
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Wed Aug 8 09:06:47 2007 +0800

    remove xvmc attributes
    
    We don't have extra attributes than Xv port.

commit 92af2f4bbcb395cbde097776718449d99843ad67
Merge: da82a47... e0be352...
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Aug 7 15:18:17 2007 -0700

    Merge branch 'origin'
    
    Conflicts:
    
    	src/i830_exa.c

commit da82a47a558597f3653e2b33bc6adbab18574b57
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Aug 6 17:01:37 2007 -0700

    Fix EXA rendering with tiled front buffer on pre-965.
    
    The 915 and earlier appear to respect the fence registers, while only the 965
    requires the per-operation tiling setting and pitch shifting.  This will also
    fix issues with rendering on the 965 involving multiple cliprects, where the
    pitch would get divided repeatedly.
    
    This removes the offset < 4096 fallback, which essentially resulted in no
    acceleration to tiled buffers, hiding the issues.

commit e0be352f5017f0e645a4ff8a40961d9c2b98863a
Author: Jesse Barnes <jesse.barnes@intel.com>
Date:   Tue Aug 7 12:37:25 2007 -0700

    Fixup pitch in Prepare* functions, since actual hooks may
    be called many times for the same pixmap, and we don't want
    to keep dividing the pitch by 4.

commit b29a932bec2a3cc5a38e9c09c012cfdc1b6209c1
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Tue Aug 7 16:47:13 2007 +0800

    code cleanups
    
    and put wrap function in driver xvmc priv instead of per xv port priv

commit 7431abee5fb971d1f8bc7ac4bea137f6ece9418b
Author: Brice Goglin <bgoglin@debian.org>
Date:   Tue Aug 7 09:13:00 2007 +0200

    Define INTEL_VERSION_MAJOR/MINOR/PATCH using PACKAGE_VERSION_*

commit 9e1914270a0978ec4dfae757d3dd57ca7ffe17e5
Author: Jesse Barnes <jesse.barnes@intel.com>
Date:   Mon Aug 6 17:55:00 2007 -0700

    Remove 4k offset checks from Copy & Solid hooks.
    Reading the docs too literally can cause you to hide bugs with false fixes...

commit 3510d5728fa972b36d022b4f9189d46ff98d7b16
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Aug 6 16:44:39 2007 -0700

    Fix accumulated whitespace nits in i830_exa.c

commit 5ff05dffe229e35da7619762628fdd0f125585e8
Author: Jesse Barnes <jesse.barnes@intel.com>
Date:   Mon Aug 6 16:01:10 2007 -0700

    More tiled rendering fixes: - check for tiling, not just offset in PrepareSolid - combine pI830->tiling and frontbuffer checks into new exaPixmapTiled function for readability

commit ba90d944329dd8c79a757c38128964fbbe4ab898
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Aug 3 16:46:09 2007 -0700

    Add the file mode for bios_dumper output so it doesn't have 000 permissions.

commit 322a163cfbda885adc6bb09c1f976d36617ea83b
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Aug 3 10:46:39 2007 -0700

    Quirk away the nonexistent TV connector on the Panasonic CF-Y4.

commit ffbab2ee5dc227b2a8a5ffd1717ae00e8e37f956
Author: Jesse Barnes <jesse.barnes@intel.com>
Date:   Fri Aug 3 21:27:52 2007 -0700

    Limit Solid & Copy offsets to 4k when rendering to tiled targets

commit 019dbfda294aaafb28d8bea0fe2f5dadc2ea3e0b
Merge: 3d3c0e8... 15f71ed...
Author: Jesse Barnes <jesse.barnes@intel.com>
Date:   Fri Aug 3 20:45:14 2007 -0700

    Merge branch 'master' of ssh://git.freedesktop.org/git/xorg/driver/xf86-video-intel

commit 3d3c0e8c55f639a501c0756948b518abd903d7d0
Author: Jesse Barnes <jesse.barnes@intel.com>
Date:   Fri Aug 3 20:40:45 2007 -0700

    Tiled rendering & fbc fixes:
      - actually enable tiling in DSP(A|B)CNTR if needed
      - add logic to EXA routines for tiled case (still needs work)
      - enable/disable fbc on DPMS events (meant moving functions higher in file)
      - fix fence register pitch programming (use correct pitch instead of kludged value)

commit 79d9a309b19e22561e000a47b732c67479c2e6d4
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Aug 2 15:50:42 2007 -0700

    Mark DRI buffers as shareable, and pass their buffer handles through the SAREA.

commit 0da4f2b0cd7203377ad10407928a367b8c6d310e
Author: Jesse Barnes <jesse.barnes@intel.com>
Date:   Tue Jul 31 16:22:36 2007 -0700

    Legacy backlight changes:
      - add support for 965GM
      - make sure legacy enabled systems don't reduce the range of backlight values we can present to the user

commit 15f71edba37738f8ba279fa07452fda10cc65298
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Sat Jul 28 17:43:29 2007 +0800

    Update Lenovo TV quirk info

commit 857b4a7bcb69ca43b866b4283fe075abbafb1d22
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Jul 27 18:03:12 2007 -0700

    Pin some buffer objects at creation time, which can't be moved yet.
    
    A number of other interfaces of ours don't allow buffer offsets to be updated
    after screeninit.  This attempts to catalog why for each one, so that they
    can be fixed one by one.
    
    This happens to restore the EXA offscreen allocator for now, as a fixed-offset
    object.

commit d7b5b595ad29ae0ac3adbd3a176be3fe7ffa6474
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Jul 27 12:48:08 2007 -0700

    Delay the first screen pixmap update to CreateScreenResources.
    
    The return value of GetScreenPixmap before CreateScreenResources is not, in
    fact, a pixmap.

commit 2b1ec0f51479c1d7e5e62803c68feca29375519d
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Jul 27 10:00:35 2007 -0700

    Use the dontMapFramebuffer option available with DRIINFO 5.4.
    
    If not available, AIGLX init will fail.  While here, simplify DRIINFO tests
    since we refuse to init with a version queried less than the version we
    compiled against, anyway.

commit f403a50afbcef1e54f554481c72037338bd5357c
Author: Wang Zhenyu <zhenyu.z.wang@intel.com>
Date:   Fri Jul 27 09:24:24 2007 +0800

    Add another Lenovo TV output quirk
    
    From issue report http://lists.freedesktop.org/archives/xorg/2007-July/026644.html

commit 34c82ad7ce83394db47588693b578cf91991bf1c
Author: Wang Zhenyu <zhenyu.z.wang@intel.com>
Date:   Fri Jul 27 09:14:13 2007 +0800

    Add quirk support
    
    This one trys to use a flag for possible quirks. It adds a quirk
    for my Lenovo T61 TV output, and ports some origin LVDS quirks to it.

commit 1a585d03972394cb97dec2462937b0104bdf4de2
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Jul 26 10:46:35 2007 -0700

    Use new drmBOSetPin interface instead of NO_EVICT/NO_MOVE buffers.
    
    To do this, we have to deal with buffer offsets being set at EnterVT time
    instead of screen init time. We've wanted to move this direction for a long
    time, but there are repercussions.  The EXA offscreen memory manager has to
    be disabled, because it can't be moved.  That will be replaced by BO-backed
    pixmaps soon.  Also unresolved is whether our moving
    front/back/depth/texture buffers will break the classic-mode DRI driver.
    
    This code doesn't actually work yet.

commit 0fd3ba0518b3cde9ca0e4e2fc1854c00d8a43d5c
Author: Brice Goglin <Brice.Goglin@ens-lyon.org>
Date:   Wed Jul 25 20:11:32 2007 +0200

    Fix typo in intel.man
    
    Reported by A. Costa" <agcosta@gis.net> in
    http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=432061

commit 18c707a8c13ac5fffdd30d55e6f5926a68b367df
Author: Eric Anholt <eric@anholt.net>
Date:   Wed Jul 25 10:11:16 2007 -0700

    When TTM is available, use it instead of manual AGP allocations when possible.
    
    This is a step towards being able to expose buffer objects through the screen
    private to DRI clients, instead of having them have to use the fake buffer
    object type.
    
    This fails in two ways.  First, the kernel memory manager is not currently
    suitable for doing the physical allocations we need, so we still use AGP for
    those.  Additionally, the DRI lock can't be initialized early enough for us, so
    these buffer object allocations fail.  This will be fixed by improving the
    DRM interface.

commit c4deefa80a6349db968e25bd6778cdf7a514ca7f
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Mon Jul 23 10:35:32 2007 +0800

    only enable xvmc for 915/945/G33

commit 45962eed51120ff77326c29d72cf8b6cd8a934b5
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Mon Jul 23 09:50:17 2007 +0800

    Fix a typo in i915 render
    
    Fence setting is in mapstate actually. This fixes rotation in
    tiled fb case, thanks Keith to report this.

commit a52c53b8603495ab05e07e3da5092fe122fcb6f2
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Fri Jul 20 17:10:27 2007 +0800

    don't initialize XvMC if xv is disabled.

commit b1af2c0e01c54ef1d40fd0ca1ede29a1dd7ed97b
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Fri Jul 20 15:18:48 2007 +0800

    Fix device id info for 945GME, 965GME
    
    which do have new host bridge ids

commit 6b4d43dbf4bbb86d479d8fca480c8bec39e2714b
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Fri Jul 20 09:59:40 2007 +0800

    lock display when creating context

commit 42e91c7092f9cf7f5c0b98e9ae3d92a5b30821bf
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Thu Jul 19 17:30:54 2007 +0800

    move i830_allocate_xvmc_buffer out of  #if/#endif

commit 36ea26f2779d951fa173da785aca100564e5ecf8
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Thu Jul 19 17:21:05 2007 +0800

    add copyright

commit 9d03873423c0968b2d6700b7d8d44c7e23b8d7f3
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Thu Jul 19 10:03:19 2007 +0800

    block some signals within critical section to avoid
    
    dead lock.

commit 25658f838bd1bcd7559d7a032d127c626833fb7c
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Mon Jul 16 13:03:58 2007 +0800

    1. The pitches for y/u/v surfaces are 1024bytes aligned.
    
    2. clean code

commit 8f316a4584d0676e5dae051698bde0831f018cc4
Author: root <root@xhh-bl32.(none)>
Date:   Thu Jul 12 16:24:03 2007 +0800

    1. clean code
    
    2. fix an error in map_state

commit 4844254431695158287167e3b0fad25d9efb7a6c
Author: root <root@xhh-bl32.(none)>
Date:   Tue Jun 26 16:32:30 2007 +0800

    a fix for 945G/945GM

commit 8c249765ce788f8adb0325a8e3016a0eae74b13b
Author: root <root@xhh-bl32.(none)>
Date:   Mon Jun 25 14:07:01 2007 +0800

    1. using batch buffer
    
    2. implement macroblock_ipicture instruction
    3. 16bit INTRA block

commit 2b20b395541f786e4009211e4c56042257b8d114
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Mon Jun 25 10:43:49 2007 +0800

    fix a bug related to display surface

commit 6e47601ac7427390fa4cb6e228dfb566ff95db09
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Mon Jun 25 10:40:08 2007 +0800

    fix some bugs

commit d038ffdfffb846e22f360faac5d469c8e59795ad
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Mon Jun 25 10:37:12 2007 +0800

    Release resource allocated for surface/subpicture

commit a9bf7e28b91692c7c7a4915cdf9603cd2ef025ea
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Mon Jun 25 10:33:35 2007 +0800

    fix some bugs
